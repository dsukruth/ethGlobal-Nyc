'use client'
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var utils = require('@dynamic-labs/utils');
var injected = require('./injected.cjs');

class Braavos extends injected.Injected {
    constructor(opts) {
        super('Braavos', 'braavos', 'braavos', opts);
        this.overrideKey = 'braavos';
    }
    /**
     * Adds a timeout for getConnectedAccounts request to prevent
     * the SDK from becoming unresponsive when Braavos is locked and does not prompt
     * the user to unlock
     * If getConnectedAccounts() doesn't resolve within 3 seconds, the operation
     * will timeout and return an empty array.
     */
    getConnectedAccounts() {
        return utils.retryableFn(() => super.getConnectedAccounts(), {
            fallbackValue: [],
            maxRetries: 0,
            retryStrategy: 'timeout-only',
            timeoutMs: 3000,
        });
    }
}

exports.Braavos = Braavos;
