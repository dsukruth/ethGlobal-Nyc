'use client'
import { __awaiter } from '../../_virtual/_tslib.js';
import { mutate } from '@onflow/fcl';
import { Wallet } from '@dynamic-labs/wallet-connector-core';
import { flowSendBalanceCadence } from '../utils.js';

class FlowWallet extends Wallet {
    /**
     * Sends the native balance of the wallet to the given address.
     * @param amount - The amount of balance to send (in FLOW).
     * @param toAddress - The address to send the balance to.
     * @returns The transaction id of the sent transaction.
     */
    sendBalance(_a) {
        return __awaiter(this, arguments, void 0, function* ({ amount, toAddress, }) {
            yield this._connector.connect();
            const args = (arg, t) => [
                arg(toAddress, t.Address),
                arg(amount, t.UFix64),
            ];
            const limit = 500;
            const txId = yield mutate({ args, cadence: flowSendBalanceCadence, limit });
            return txId;
        });
    }
}

export { FlowWallet };
