'use client'
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _tslib = require('../../_virtual/_tslib.cjs');
var fcl = require('@onflow/fcl');
var walletConnectorCore = require('@dynamic-labs/wallet-connector-core');
var utils = require('../utils.cjs');

class FlowWallet extends walletConnectorCore.Wallet {
    /**
     * Sends the native balance of the wallet to the given address.
     * @param amount - The amount of balance to send (in FLOW).
     * @param toAddress - The address to send the balance to.
     * @returns The transaction id of the sent transaction.
     */
    sendBalance(_a) {
        return _tslib.__awaiter(this, arguments, void 0, function* ({ amount, toAddress, }) {
            yield this._connector.connect();
            const args = (arg, t) => [
                arg(toAddress, t.Address),
                arg(amount, t.UFix64),
            ];
            const limit = 500;
            const txId = yield fcl.mutate({ args, cadence: utils.flowSendBalanceCadence, limit });
            return txId;
        });
    }
}

exports.FlowWallet = FlowWallet;
