'use client'
'use strict';

var _tslib = require('../_virtual/_tslib.cjs');
var fcl = require('@onflow/fcl');
var FlowWalletConnector = require('./FlowWalletConnector.cjs');

class Blocto extends FlowWalletConnector.FlowWalletConnector {
    constructor() {
        super(...arguments);
        this.name = 'Blocto';
        this.overrideKey = 'blocto';
        this.canConnectViaCustodialService = true;
    }
    setupConfig() {
        const _super = Object.create(null, {
            setupConfig: { get: () => super.setupConfig }
        });
        return _tslib.__awaiter(this, void 0, void 0, function* () {
            yield _super.setupConfig.call(this);
            yield fcl.config()
                .put('challenge.scope', 'email')
                .put('discovery.wallet', this.network === 'testnet'
                ? 'https://wallet-v2-dev.blocto.app/api/flow/authn'
                : 'https://wallet-v2.blocto.app/api/flow/authn')
                .put('service.OpenID.scopes', 'email!')
                .put('discovery.wallet.method', 'HTTP/POST');
        });
    }
}

module.exports = Blocto;
