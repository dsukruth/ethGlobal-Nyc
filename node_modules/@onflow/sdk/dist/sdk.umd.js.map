{"version":3,"file":"sdk.umd.js","sources":["../src/interaction/interaction.ts","../src/build/build.js","../src/response/response.ts","../src/build/build-get-block.js","../src/build/build-get-account.js","../src/decode/decode-stream.ts","../src/decode/decode.js","../src/resolve/resolve-cadence.js","../src/resolve/resolve-arguments.js","../src/encode/encode.ts","../src/resolve/voucher.ts","../src/resolve/resolve-accounts.ts","../src/resolve/resolve-signatures.ts","../src/resolve/resolve-validators.js","../src/resolve/resolve-final-normalization.js","../src/resolve/resolve-voucher-intercept.js","../src/resolve/resolve-compute-limit.js","../src/resolve/resolve.js","../src/build/build-invariant.js","../src/send/send.js","../src/decode/sdk-decode.js","../src/wallet-utils/encode-signable.js","../src/build/build-validator.js","../src/build/build-at-block-height.js","../src/build/build-at-block-id.js","../src/account/account.js","../src/block/block.js","../src/build/build-get-node-version-info.ts","../src/node-version-info/node-version-info.ts","../src/build/build-authorizations.js","../src/build/build-get-events.js","../src/build/build-get-events-at-block-height-range.js","../src/build/build-get-events-at-block-ids.js","../src/build/build-get-block-header.js","../src/build/build-get-collection.js","../src/build/build-get-transaction-status.js","../src/build/build-get-transaction.js","../src/build/build-get-network-parameters.js","../src/build/build-limit.js","../src/build/build-arguments.ts","../src/build/build-proposer.js","../src/build/build-payer.js","../src/build/build-ping.js","../src/build/build-ref.js","../src/build/build-script.js","../src/build/build-transaction.js","../src/build/build-voucher-intercept.js","../src/build/build-subscribe-events.ts","../src/resolve/resolve-proposer-sequence-number.js","../src/resolve/resolve-ref-block-id.js","../src/test-utils/mock-send.js","../src/test-utils/authz-fn.ts","../src/test-utils/run.js","../src/VERSION.js","../src/sdk.ts"],"sourcesContent":["import {invariant} from \"@onflow/util-invariant\"\nimport {v4 as uuidv4} from \"uuid\"\nimport {log, LEVELS} from \"@onflow/util-logger\"\n\nimport {\n  TransactionRole,\n  Interaction,\n  InteractionAccount,\n  InteractionResolverKind,\n  InteractionStatus,\n  InteractionTag,\n} from \"@onflow/typedefs\"\nimport {TypeDescriptor, TypeDescriptorInput} from \"@onflow/types\"\n\ntype AcctFn = (acct: InteractionAccount) => InteractionAccount\ntype AccountFn = AcctFn & Partial<InteractionAccount>\n\ntype CadenceArgument<T extends TypeDescriptor<any, any>> = {\n  value: TypeDescriptorInput<T>\n  xform: T\n}\n\nexport {CadenceArgument}\n\nconst ACCT = `{\n  \"kind\":\"${InteractionResolverKind.ACCOUNT}\",\n  \"tempId\":null,\n  \"addr\":null,\n  \"keyId\":null,\n  \"sequenceNum\":null,\n  \"signature\":null,\n  \"signingFunction\":null,\n  \"resolve\":null,\n  \"role\": {\n    \"proposer\":false,\n    \"authorizer\":false,\n    \"payer\":false,\n    \"param\":false\n  }\n}`\n\nconst ARG = `{\n  \"kind\":\"${InteractionResolverKind.ARGUMENT}\",\n  \"tempId\":null,\n  \"value\":null,\n  \"asArgument\":null,\n  \"xform\":null,\n  \"resolve\": null,\n  \"resolveArgument\": null\n}`\n\nconst IX = `{\n  \"tag\":\"${InteractionTag.UNKNOWN}\",\n  \"assigns\":{},\n  \"status\":\"${InteractionStatus.OK}\",\n  \"reason\":null,\n  \"accounts\":{},\n  \"params\":{},\n  \"arguments\":{},\n  \"message\": {\n    \"cadence\":null,\n    \"refBlock\":null,\n    \"computeLimit\":null,\n    \"proposer\":null,\n    \"payer\":null,\n    \"authorizations\":[],\n    \"params\":[],\n    \"arguments\":[]\n  },\n  \"proposer\":null,\n  \"authorizations\":[],\n  \"payer\":[],\n  \"events\": {\n    \"eventType\":null,\n    \"start\":null,\n    \"end\":null,\n    \"blockIds\":[]\n  },\n  \"subscribeEvents\": {\n    \"startBlockId\":null,\n    \"startHeight\":null,\n    \"eventTypes\":null,\n    \"addresses\":null,\n    \"contracts\":null,\n    \"heartbeatInterval\":null\n  },\n  \"transaction\": {\n    \"id\":null\n  },\n  \"block\": {\n    \"id\":null,\n    \"height\":null,\n    \"isSealed\":null\n  },\n  \"account\": {\n    \"addr\":null\n  },\n  \"collection\": {\n    \"id\":null\n  }\n}`\n\nconst KEYS = new Set(Object.keys(JSON.parse(IX) as Interaction))\n\nexport const initInteraction = (): Interaction => JSON.parse(IX)\n/**\n * @deprecated\n */\nexport const interaction = () => {\n  log.deprecate({\n    pkg: \"FCL/SDK\",\n    message: `The interaction been deprecated from the Flow JS-SDK/FCL. use initInteraction instead`,\n    transition:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0010-deprecate-interaction\",\n    level: LEVELS.warn,\n  })\n  return initInteraction()\n}\n\nexport const isNumber = (d: any): d is number => typeof d === \"number\"\nexport const isArray = (d: any): d is any[] => Array.isArray(d)\nexport const isObj = (d: any): d is Record<string, any> =>\n  d !== null && typeof d === \"object\"\nexport const isNull = (d: any): d is null => d == null\nexport const isFn = (d: any): d is Function => typeof d === \"function\"\n\nexport const isInteraction = (ix: unknown) => {\n  if (!isObj(ix) || isNull(ix) || isNumber(ix)) return false\n  for (let key of KEYS) if (!ix.hasOwnProperty(key)) return false\n  return true\n}\n\nexport const Ok = (ix: Interaction) => {\n  ix.status = InteractionStatus.OK\n  return ix\n}\n\nexport const Bad = (ix: Interaction, reason: string) => {\n  ix.status = InteractionStatus.BAD\n  ix.reason = reason\n  return ix\n}\n\nconst makeIx = (wat: InteractionTag) => (ix: Interaction) => {\n  ix.tag = wat\n  return Ok(ix)\n}\n\nconst prepAccountKeyId = (\n  acct: Partial<InteractionAccount> | AccountFn\n): Partial<InteractionAccount> | AccountFn => {\n  if (acct.keyId == null) return acct\n\n  invariant(\n    !isNaN(parseInt(acct.keyId.toString())),\n    \"account.keyId must be an integer\"\n  )\n\n  return {\n    ...acct,\n    keyId: parseInt(acct.keyId.toString()),\n  } as InteractionAccount | AccountFn\n}\n\ninterface IPrepAccountOpts {\n  role?: TransactionRole | null\n}\n\nexport const initAccount = (): InteractionAccount => JSON.parse(ACCT)\n\nexport const prepAccount =\n  (acct: InteractionAccount | AccountFn, opts: IPrepAccountOpts = {}) =>\n  (ix: Interaction) => {\n    invariant(\n      typeof acct === \"function\" || typeof acct === \"object\",\n      \"prepAccount must be passed an authorization function or an account object\"\n    )\n    invariant(opts.role != null, \"Account must have a role\")\n\n    const ACCOUNT = initAccount()\n    const role = opts.role\n    const tempId = uuidv4()\n    let account: Partial<InteractionAccount> = {...acct}\n\n    if (acct.authorization && isFn(acct.authorization))\n      account = {resolve: acct.authorization}\n    if (!acct.authorization && isFn(acct)) account = {resolve: acct}\n\n    const resolve = account.resolve\n    if (resolve) {\n      account.resolve = (acct: InteractionAccount, ...rest: any[]) =>\n        [resolve, prepAccountKeyId].reduce(\n          async (d, fn) => fn(await d, ...rest),\n          acct\n        )\n    }\n    account = prepAccountKeyId(account)\n\n    ix.accounts[tempId] = {\n      ...ACCOUNT,\n      tempId,\n      ...account,\n      role: {\n        ...ACCOUNT.role,\n        ...(typeof acct.role === \"object\" ? acct.role : {}),\n        ...(role ? {[role]: true} : {}),\n      },\n    }\n\n    if (role === TransactionRole.AUTHORIZER) {\n      ix.authorizations.push(tempId)\n    } else if (role === TransactionRole.PAYER) {\n      ix.payer.push(tempId)\n    } else if (role) {\n      ix[role] = tempId\n    }\n\n    return ix\n  }\n\nexport const makeArgument = (arg: Record<string, any>) => (ix: Interaction) => {\n  let tempId = uuidv4()\n  ix.message.arguments.push(tempId)\n\n  ix.arguments[tempId] = JSON.parse(ARG)\n  ix.arguments[tempId].tempId = tempId\n  ix.arguments[tempId].value = arg.value\n  ix.arguments[tempId].asArgument = arg.asArgument\n  ix.arguments[tempId].xform = arg.xform\n  ix.arguments[tempId].resolve = arg.resolve\n  ix.arguments[tempId].resolveArgument = isFn(arg.resolveArgument)\n    ? arg.resolveArgument.bind(arg)\n    : arg.resolveArgument\n\n  return Ok(ix)\n}\n\nexport const makeUnknown /*                 */ = makeIx(InteractionTag.UNKNOWN)\nexport const makeScript /*                  */ = makeIx(InteractionTag.SCRIPT)\nexport const makeTransaction /*             */ = makeIx(\n  InteractionTag.TRANSACTION\n)\nexport const makeGetTransactionStatus /*    */ = makeIx(\n  InteractionTag.GET_TRANSACTION_STATUS\n)\nexport const makeGetTransaction /*          */ = makeIx(\n  InteractionTag.GET_TRANSACTION\n)\nexport const makeGetAccount /*              */ = makeIx(\n  InteractionTag.GET_ACCOUNT\n)\nexport const makeGetEvents /*               */ = makeIx(\n  InteractionTag.GET_EVENTS\n)\nexport const makePing /*                    */ = makeIx(InteractionTag.PING)\nexport const makeGetBlock /*                */ = makeIx(\n  InteractionTag.GET_BLOCK\n)\nexport const makeGetBlockHeader /*          */ = makeIx(\n  InteractionTag.GET_BLOCK_HEADER\n)\nexport const makeGetCollection /*           */ = makeIx(\n  InteractionTag.GET_COLLECTION\n)\nexport const makeGetNetworkParameters /*    */ = makeIx(\n  InteractionTag.GET_NETWORK_PARAMETERS\n)\nexport const makeSubscribeEvents /*         */ = makeIx(\n  InteractionTag.SUBSCRIBE_EVENTS\n)\nexport const makeGetNodeVerionInfo /*       */ = makeIx(\n  InteractionTag.GET_NODE_VERSION_INFO\n)\n\nconst is = (wat: InteractionTag) => (ix: Interaction) => ix.tag === wat\n\nexport const isUnknown /*                 */ = is(InteractionTag.UNKNOWN)\nexport const isScript /*                  */ = is(InteractionTag.SCRIPT)\nexport const isTransaction /*             */ = is(InteractionTag.TRANSACTION)\nexport const isGetTransactionStatus /*    */ = is(\n  InteractionTag.GET_TRANSACTION_STATUS\n)\nexport const isGetTransaction /*          */ = is(\n  InteractionTag.GET_TRANSACTION\n)\nexport const isGetAccount /*              */ = is(InteractionTag.GET_ACCOUNT)\nexport const isGetEvents /*               */ = is(InteractionTag.GET_EVENTS)\nexport const isPing /*                    */ = is(InteractionTag.PING)\nexport const isGetBlock /*                */ = is(InteractionTag.GET_BLOCK)\nexport const isGetBlockHeader /*          */ = is(\n  InteractionTag.GET_BLOCK_HEADER\n)\nexport const isGetCollection /*           */ = is(InteractionTag.GET_COLLECTION)\nexport const isGetNetworkParameters /*    */ = is(\n  InteractionTag.GET_NETWORK_PARAMETERS\n)\nexport const isGetNodeVersionInfo /*      */ = is(\n  InteractionTag.GET_NODE_VERSION_INFO\n)\nexport const isSubscribeEvents /*         */ = is(\n  InteractionTag.SUBSCRIBE_EVENTS\n)\n\nexport const isOk /*  */ = (ix: Interaction) =>\n  ix.status === InteractionStatus.OK\nexport const isBad /* */ = (ix: Interaction) =>\n  ix.status === InteractionStatus.BAD\nexport const why /*   */ = (ix: Interaction) => ix.reason\n\nexport const isAccount /*  */ = (account: Record<string, any>) =>\n  account.kind === InteractionResolverKind.ACCOUNT\nexport const isArgument /* */ = (argument: Record<string, any>) =>\n  argument.kind === InteractionResolverKind.ARGUMENT\n\nconst hardMode = (ix: Interaction) => {\n  for (let key of Object.keys(ix)) {\n    if (!KEYS.has(key))\n      throw new Error(`\"${key}\" is an invalid root level Interaction property.`)\n  }\n  return ix\n}\n\ntype MaybePromise<T> = T | Promise<T>\n\nconst recPipe = async (\n  ix: MaybePromise<Interaction>,\n  fns: (\n    | ((x: Interaction) => MaybePromise<Interaction>)\n    | MaybePromise<Interaction>\n  )[] = []\n): Promise<Interaction> => {\n  try {\n    ix = hardMode(await ix)\n    if (isBad(ix)) throw new Error(`Interaction Error: ${ix.reason}`)\n    if (!fns.length) return ix\n    const [hd, ...rest] = fns\n    const cur = await hd\n    if (isFn(cur)) return recPipe(cur(ix), rest)\n    if (isNull(cur) || !cur) return recPipe(ix, rest)\n    if (isInteraction(cur)) return recPipe(cur, rest)\n    throw new Error(\"Invalid Interaction Composition\")\n  } catch (e) {\n    throw e\n  }\n}\n\n/**\n * @description Async pipe function to compose interactions\n * @returns An interaction object\n */\nfunction pipe(\n  fns: ((x: Interaction) => Interaction)[]\n): (x: Interaction) => Promise<Interaction>\n/**\n * @description Async pipe function to compose interactions\n * @returns An interaction object\n */\nfunction pipe(\n  ix: MaybePromise<Interaction>,\n  fns: ((x: Interaction) => Interaction)[]\n): Promise<Interaction>\nfunction pipe(\n  ...args:\n    | [((x: Interaction) => Interaction)[]]\n    | [MaybePromise<Interaction>, ((x: Interaction) => Interaction)[]]\n): Promise<Interaction> | ((x: Interaction) => Promise<Interaction>) {\n  const [arg1, arg2] = args\n  if (isArray(arg1)) return (d: Interaction) => pipe(d, arg1)\n\n  const ix = arg1 as MaybePromise<Interaction>\n  const fns = arg2 as ((x: Interaction) => Interaction)[]\n  return recPipe(ix, fns)\n}\nexport {pipe}\n\nconst identity = <T>(v: T, ..._: any[]) => v\n\nexport const get = (ix: Interaction, key: string, fallback: any) => {\n  return ix.assigns[key] == null ? fallback : ix.assigns[key]\n}\n\nexport const put = (key: string, value: any) => (ix: Interaction) => {\n  ix.assigns[key] = value\n  return Ok(ix)\n}\n\nexport const update =\n  (key: string, fn = identity) =>\n  (ix: Interaction) => {\n    ix.assigns[key] = fn(ix.assigns[key], ix)\n    return Ok(ix)\n  }\n\nexport const destroy = (key: string) => (ix: Interaction) => {\n  delete ix.assigns[key]\n  return Ok(ix)\n}\n","import {pipe, initInteraction} from \"../interaction/interaction\"\n\nexport function build(fns = []) {\n  return pipe(initInteraction(), fns)\n}\n","const DEFAULT_RESPONSE = {\n    \"tag\":null,\n    \"transaction\":null,\n    \"transactionStatus\":null,\n    \"transactionId\":null,\n    \"encodedData\":null,\n    \"events\":null,\n    \"account\":null,\n    \"block\":null,\n    \"blockHeader\":null,\n    \"latestBlock\":null,\n    \"collection\":null,\n    \"networkParameters\":null,\n    \"streamConnection\":null,\n    \"heartbeat\":null,\n    \"nodeVersionInfo\": null,\n}\n\nexport const response = () => ({...DEFAULT_RESPONSE})\n","import {pipe, Ok, makeGetBlock} from \"../interaction/interaction\"\n\n/**\n * @description - A builder function that returns the interaction to get the latest block\n * @param {boolean} [isSealed] - Whether or not the block should be sealed\n * @returns {Function} - An interaction object\n */\nexport function getBlock(isSealed = null) {\n  return pipe([\n    makeGetBlock,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, makeGetAccount, Ok} from \"../interaction/interaction\"\nimport {sansPrefix} from \"@onflow/util-address\"\n\n/**\n * @description - A builder function that returns the interaction to get an account by address\n * @param {string} addr - The address of the account to getq\n * @returns {Function} - An interaction object\n */\nexport function getAccount(addr) {\n  return pipe([\n    makeGetAccount,\n    ix => {\n      ix.account.addr = sansPrefix(addr)\n      return Ok(ix)\n    },\n  ])\n}\n","import EventEmitter from \"events\"\nimport {StreamConnection} from \"@onflow/typedefs\"\n\ntype DecodeResponseFn = (\n  response: Record<string, any>,\n  customDecoders?: Record<string, any>\n) => Promise<any>\n\n/**\n * Pipes a generic stream of data into a granular stream of decoded data\n * The data is decoded per channel and emitted in order\n */\nexport const decodeStream = (\n  stream: StreamConnection<{data: any}>,\n  decodeResponse: DecodeResponseFn,\n  customDecoders?: Record<string, any>\n): StreamConnection<any> => {\n  const newStream = new EventEmitter()\n  let queue = taskQueue()\n\n  // Data is separated by topic & the decoded data is emitted in order\n  // All topics for a given message will be emitted synchronously before moving on to the next message\n  // The streamReady promise ensures that the data is emitted in order and avoids race conditions when decoding\n  stream.on(\"data\", async data => {\n    const topics = Object.keys(data).filter(\n      key => data[key] != null && key !== \"tag\"\n    )\n\n    let newDataPromise = Promise.all(\n      topics.map(async channel => {\n        const partialResponse = {\n          [channel]: data[channel],\n        }\n        const message = await decodeResponse(partialResponse, customDecoders)\n        return {\n          channel,\n          message,\n        }\n      })\n    )\n\n    queue.push(async () => {\n      // Emit the new data\n      const newData = await newDataPromise\n      newData.forEach(({channel, message}) => {\n        newStream.emit(channel, message)\n      })\n    })\n  })\n\n  // Relay events from the original stream\n  // These events are delivered in order as well so that the stream will\n  // not emit more data after it has announced a contradictory state\n  function relayEvent(event: any) {\n    stream.on(event, (message: any) => {\n      queue.push(async () => {\n        newStream.emit(event, message)\n      })\n    })\n  }\n  relayEvent(\"close\")\n  relayEvent(\"error\")\n\n  return {\n    on(channel: string, callback: any) {\n      newStream.on(channel, callback)\n      return this\n    },\n    off(channel: string, callback: any) {\n      newStream.off(channel, callback)\n      return this\n    },\n    close: () => {\n      stream.close()\n    },\n  }\n}\n\nfunction taskQueue() {\n  let queue: (() => Promise<any>)[] = [] as any as (() => Promise<any>)[]\n  let running = false\n\n  async function run() {\n    if (running) return\n    running = true\n    while (queue.length > 0) {\n      const task = queue.shift()\n      await task?.()\n    }\n    running = false\n  }\n\n  return {\n    push: (task: () => Promise<any>) => {\n      queue.push(task)\n      run()\n    },\n  }\n}\n","import {log} from \"@onflow/util-logger\"\nimport {decodeStream} from \"./decode-stream\"\n\nconst latestBlockDeprecationNotice = () => {\n  log.deprecate({\n    pkg: \"@onflow/decode\",\n    subject:\n      \"Operating upon data of the latestBlock field of the response object\",\n    transition:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\",\n  })\n}\n\nconst decodeNumber = async (num, _, stack) => {\n  try {\n    return Number(num)\n  } catch (e) {\n    throw new Error(`Decode Number Error : ${stack.join(\".\")}`)\n  }\n}\n\nconst decodeImplicit = async i => i\n\nconst decodeVoid = async () => null\n\nconst decodeType = async type => {\n  return type.staticType\n}\n\nconst decodePath = async path => {\n  return {\n    domain: path.domain,\n    identifier: path.identifier,\n  }\n}\n\nconst decodeCapability = async cap => {\n  return {\n    path: cap.path,\n    address: cap.address,\n    borrowType: cap.borrowType,\n  }\n}\n\nconst decodeOptional = async (optional, decoders, stack) =>\n  optional ? await recurseDecode(optional, decoders, stack) : null\n\nconst decodeReference = async v => ({address: v.address, type: v.type})\n\nconst decodeArray = async (array, decoders, stack) =>\n  await Promise.all(\n    array.map(\n      v =>\n        new Promise(async res =>\n          res(await recurseDecode(v, decoders, [...stack, v.type]))\n        )\n    )\n  )\n\nconst decodeDictionary = async (dictionary, decoders, stack) =>\n  await dictionary.reduce(async (acc, v) => {\n    acc = await acc\n    acc[await recurseDecode(v.key, decoders, [...stack, v.key])] =\n      await recurseDecode(v.value, decoders, [...stack, v.key])\n    return acc\n  }, Promise.resolve({}))\n\nconst decodeComposite = async (composite, decoders, stack) => {\n  const decoded = await composite.fields.reduce(async (acc, v) => {\n    acc = await acc\n    acc[v.name] = await recurseDecode(v.value, decoders, [...stack, v.name])\n    return acc\n  }, Promise.resolve({}))\n  const decoder = composite.id && decoderLookup(decoders, composite.id)\n  return decoder ? await decoder(decoded) : decoded\n}\n\nconst defaultDecoders = {\n  UInt: decodeImplicit,\n  Int: decodeImplicit,\n  UInt8: decodeImplicit,\n  Int8: decodeImplicit,\n  UInt16: decodeImplicit,\n  Int16: decodeImplicit,\n  UInt32: decodeImplicit,\n  Int32: decodeImplicit,\n  UInt64: decodeImplicit,\n  Int64: decodeImplicit,\n  UInt128: decodeImplicit,\n  Int128: decodeImplicit,\n  UInt256: decodeImplicit,\n  Int256: decodeImplicit,\n  Word8: decodeImplicit,\n  Word16: decodeImplicit,\n  Word32: decodeImplicit,\n  Word64: decodeImplicit,\n  UFix64: decodeImplicit,\n  Fix64: decodeImplicit,\n  String: decodeImplicit,\n  Character: decodeImplicit,\n  Bool: decodeImplicit,\n  Address: decodeImplicit,\n  Void: decodeVoid,\n  Optional: decodeOptional,\n  Reference: decodeReference,\n  Array: decodeArray,\n  Dictionary: decodeDictionary,\n  Event: decodeComposite,\n  Resource: decodeComposite,\n  Struct: decodeComposite,\n  Enum: decodeComposite,\n  Type: decodeType,\n  Path: decodePath,\n  Capability: decodeCapability,\n}\n\nconst decoderLookup = (decoders, lookup) => {\n  const found = Object.keys(decoders).find(decoder => {\n    if (/^\\/.*\\/$/.test(decoder)) {\n      const reg = new RegExp(decoder.substring(1, decoder.length - 1))\n      return reg.test(lookup)\n    }\n    return decoder === lookup\n  })\n  return lookup && found && decoders[found]\n}\n\nconst recurseDecode = async (decodeInstructions, decoders, stack) => {\n  let decoder = decoderLookup(decoders, decodeInstructions.type)\n  if (!decoder)\n    throw new Error(\n      `Undefined Decoder Error: ${decodeInstructions.type}@${stack.join(\".\")}`\n    )\n  return await decoder(decodeInstructions.value, decoders, stack)\n}\n\n/**\n * @description - Decodes a response from Flow into JSON\n * @param {*} decodeInstructions - The response object from Flow\n * @param {object} customDecoders - An object of custom decoders\n * @param {Array<*>} stack - The stack of the current decoding\n * @returns {Promise<*>} - The decoded response\n */\nexport const decode = async (\n  decodeInstructions,\n  customDecoders = {},\n  stack = []\n) => {\n  // Filter out all default decoders which are overridden by a custom decoder regex\n  const filteredDecoders = Object.keys(defaultDecoders)\n    .filter(\n      decoder =>\n        !Object.keys(customDecoders).find(customDecoder =>\n          new RegExp(customDecoder).test(decoder)\n        )\n    )\n    .reduce((decoders, decoderKey) => {\n      decoders[decoderKey] = defaultDecoders[decoderKey]\n      return decoders\n    }, customDecoders)\n\n  const decoders = {\n    ...filteredDecoders,\n    ...customDecoders,\n  }\n  return recurseDecode(decodeInstructions, decoders, stack)\n}\n\nexport const decodeResponse = async (response, customDecoders = {}) => {\n  if (response.encodedData) {\n    return decode(response.encodedData, customDecoders)\n  } else if (response.transactionStatus) {\n    return {\n      ...response.transactionStatus,\n      events: await Promise.all(\n        response.transactionStatus.events.map(async function decodeEvents(e) {\n          return {\n            type: e.type,\n            transactionId: e.transactionId,\n            transactionIndex: e.transactionIndex,\n            eventIndex: e.eventIndex,\n            data: await decode(e.payload, customDecoders),\n          }\n        })\n      ),\n    }\n  } else if (response.transaction) {\n    return response.transaction\n  } else if (response.events) {\n    return await Promise.all(\n      response.events.map(async function decodeEvents(e) {\n        return {\n          blockId: e.blockId,\n          blockHeight: e.blockHeight,\n          blockTimestamp: e.blockTimestamp,\n          type: e.type,\n          transactionId: e.transactionId,\n          transactionIndex: e.transactionIndex,\n          eventIndex: e.eventIndex,\n          data: await decode(e.payload, customDecoders),\n        }\n      })\n    )\n  } else if (response.account) {\n    return response.account\n  } else if (response.block) {\n    return response.block\n  } else if (response.blockHeader) {\n    return response.blockHeader\n  } else if (response.latestBlock) {\n    latestBlockDeprecationNotice()\n    return response.latestBlock\n  } else if (response.transactionId) {\n    return response.transactionId\n  } else if (response.collection) {\n    return response.collection\n  } else if (response.networkParameters) {\n    const prefixRegex = /^flow-/\n    const rawChainId = response.networkParameters.chainId\n    let formattedChainId\n\n    if (rawChainId === \"flow-emulator\") {\n      formattedChainId = \"local\"\n    } else if (prefixRegex.test(rawChainId)) {\n      formattedChainId = rawChainId.replace(prefixRegex, \"\")\n    } else {\n      formattedChainId = rawChainId\n    }\n\n    return {\n      chainId: formattedChainId,\n    }\n  } else if (response.streamConnection) {\n    return decodeStream(\n      response.streamConnection,\n      decodeResponse,\n      customDecoders\n    )\n  } else if (response.heartbeat) {\n    return response.heartbeat\n  } else if (response.nodeVersionInfo) {\n    return response.nodeVersionInfo\n  }\n\n  return null\n}\n","import {isTransaction, isScript, get} from \"../interaction/interaction\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {config} from \"@onflow/config\"\nimport * as logger from \"@onflow/util-logger\"\nimport {withPrefix} from \"@onflow/util-address\"\n\nconst isFn = v => typeof v === \"function\"\nconst isString = v => typeof v === \"string\"\n\nconst oldIdentifierPatternFn = () => /\\b(0x\\w+)\\b/g\nfunction isOldIdentifierSyntax(cadence) {\n  return oldIdentifierPatternFn().test(cadence)\n}\n\nconst newIdentifierPatternFn = () => /import\\s+\"(\\w+)\"/g\nfunction isNewIdentifierSyntax(cadence) {\n  return newIdentifierPatternFn().test(cadence)\n}\n\nfunction getContractIdentifierSyntaxMatches(cadence) {\n  return cadence.matchAll(newIdentifierPatternFn())\n}\n\nexport async function resolveCadence(ix) {\n  if (!isTransaction(ix) && !isScript(ix)) return ix\n\n  var cadence = get(ix, \"ix.cadence\")\n\n  invariant(\n    isFn(cadence) || isString(cadence),\n    \"Cadence needs to be a function or a string.\"\n  )\n  if (isFn(cadence)) cadence = await cadence({})\n  invariant(isString(cadence), \"Cadence needs to be a string at this point.\")\n  invariant(\n    !isOldIdentifierSyntax(cadence) || !isNewIdentifierSyntax(cadence),\n    \"Both account identifier and contract identifier syntax not simultaneously supported.\"\n  )\n  if (isOldIdentifierSyntax(cadence)) {\n    cadence = await config()\n      .where(/^0x/)\n      .then(d =>\n        Object.entries(d).reduce((cadence, [key, value]) => {\n          const regex = new RegExp(\"(\\\\b\" + key + \"\\\\b)\", \"g\")\n          return cadence.replace(regex, value)\n        }, cadence)\n      )\n  }\n\n  if (isNewIdentifierSyntax(cadence)) {\n    for (const [fullMatch, contractName] of getContractIdentifierSyntaxMatches(\n      cadence\n    )) {\n      const address = await config().get(`system.contracts.${contractName}`)\n      if (address) {\n        cadence = cadence.replace(\n          fullMatch,\n          `import ${contractName} from ${withPrefix(address)}`\n        )\n      } else {\n        logger.log({\n          title: \"Contract Placeholder not found\",\n          message: `Cannot find a value for contract placeholder ${contractName}. Please add to your flow.json or explicitly add it to the config 'contracts.*' namespace.`,\n          level: logger.LEVELS.warn,\n        })\n      }\n    }\n  }\n\n  // We need to move this over in any case.\n  ix.message.cadence = cadence\n\n  return ix\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isTransaction, isScript} from \"../interaction/interaction\"\n\nconst isFn = v => typeof v === \"function\"\n\nfunction cast(arg) {\n  // prettier-ignore\n  invariant(typeof arg.xform != null, `No type specified for argument: ${arg.value}`)\n\n  if (isFn(arg.xform)) return arg.xform(arg.value)\n  if (isFn(arg.xform.asArgument)) return arg.xform.asArgument(arg.value)\n\n  // prettier-ignore\n  invariant(false, `Invalid Argument`, arg)\n}\n\nasync function handleArgResolution(arg, depth = 3) {\n  invariant(\n    depth > 0,\n    `Argument Resolve Recursion Limit Exceeded for Arg: ${arg.tempId}`\n  )\n\n  if (isFn(arg.resolveArgument)) {\n    const resolvedArg = await arg.resolveArgument()\n    return handleArgResolution(resolvedArg, depth - 1)\n  } else {\n    return arg\n  }\n}\n\nexport async function resolveArguments(ix) {\n  if (isTransaction(ix) || isScript(ix)) {\n    for (let [id, arg] of Object.entries(ix.arguments)) {\n      const res = await handleArgResolution(arg)\n      ix.arguments[id].asArgument = cast(res)\n    }\n  }\n\n  return ix\n}\n","import {SHA3} from \"sha3\"\nimport {encode, Buffer, EncodeInput} from \"@onflow/rlp\"\nimport {sansPrefix} from \"@onflow/util-address\"\n\nexport const encodeTransactionPayload = (tx: Transaction) =>\n  prependTransactionDomainTag(rlpEncode(preparePayload(tx)))\nexport const encodeTransactionEnvelope = (tx: Transaction) =>\n  prependTransactionDomainTag(rlpEncode(prepareEnvelope(tx)))\nexport const encodeTxIdFromVoucher = (voucher: Voucher) =>\n  sha3_256(rlpEncode(prepareVoucher(voucher)))\n\nconst rightPaddedHexBuffer = (value: string, pad: number) =>\n  Buffer.from(value.padEnd(pad * 2, \"0\"), \"hex\")\n\nconst leftPaddedHexBuffer = (value: string, pad: number) =>\n  Buffer.from(value.padStart(pad * 2, \"0\"), \"hex\")\n\nconst TRANSACTION_DOMAIN_TAG = rightPaddedHexBuffer(\n  Buffer.from(\"FLOW-V0.0-transaction\").toString(\"hex\"),\n  32\n).toString(\"hex\")\nconst prependTransactionDomainTag = (tx: string) => TRANSACTION_DOMAIN_TAG + tx\n\nconst addressBuffer = (addr: string) => leftPaddedHexBuffer(addr, 8)\n\nconst blockBuffer = (block: string) => leftPaddedHexBuffer(block, 32)\n\nconst argumentToString = (arg: Record<string, any>) => Buffer.from(JSON.stringify(arg), \"utf8\")\n\nconst scriptBuffer = (script: string) => Buffer.from(script, \"utf8\")\nconst signatureBuffer = (signature: string) => Buffer.from(signature, \"hex\")\n\nconst rlpEncode = (v: EncodeInput) => {\n  return encode(v).toString(\"hex\")\n}\n\nconst sha3_256 = (msg: string) => {\n  const sha = new SHA3(256)\n  sha.update(Buffer.from(msg, \"hex\"))\n  return sha.digest().toString(\"hex\")\n}\n\nconst preparePayload = (tx: Transaction) => {\n  validatePayload(tx)\n\n  return [\n    scriptBuffer(tx.cadence || ''),\n    tx.arguments.map(argumentToString),\n    blockBuffer(tx.refBlock || ''),\n    tx.computeLimit,\n    addressBuffer(sansPrefix(tx.proposalKey.address || '')),\n    tx.proposalKey.keyId,\n    tx.proposalKey.sequenceNum,\n    addressBuffer(sansPrefix(tx.payer)),\n    tx.authorizers.map(authorizer => addressBuffer(sansPrefix(authorizer))),\n  ]\n}\n\nconst prepareEnvelope = (tx: Transaction) => {\n  validateEnvelope(tx)\n\n  return [preparePayload(tx), preparePayloadSignatures(tx)]\n}\n\nconst preparePayloadSignatures = (tx: Transaction) => {\n  const signers = collectSigners(tx)\n\n  return tx.payloadSigs?.map((sig: Sig) => {\n      return {\n        signerIndex: signers.get(sig.address) || '',\n        keyId: sig.keyId,\n        sig: sig.sig,\n      }\n    })\n    .sort((a, b) => {\n      if (a.signerIndex > b.signerIndex) return 1\n      if (a.signerIndex < b.signerIndex) return -1\n\n      if (a.keyId > b.keyId) return 1\n      if (a.keyId < b.keyId) return -1\n\n      return 0\n    })\n    .map(sig => {\n      return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)]\n    })\n}\n\nconst collectSigners = (tx: Voucher | Transaction) => {\n  const signers = new Map<string, number>()\n  let i = 0\n\n  const addSigner = (addr: string) => {\n    if (!signers.has(addr)) {\n      signers.set(addr, i)\n      i++\n    }\n  }\n\n  if (tx.proposalKey.address){\n    addSigner(tx.proposalKey.address)\n  }\n  addSigner(tx.payer)\n  tx.authorizers.forEach(addSigner)\n\n  return signers\n}\n\nconst prepareVoucher = (voucher: Voucher) => {\n  validateVoucher(voucher)\n\n  const signers = collectSigners(voucher)\n\n  const prepareSigs = (sigs: Sig[]) => {\n    return sigs\n      .map(({ address, keyId, sig }) => {\n        return { signerIndex: signers.get(address) || '', keyId, sig }\n      })\n      .sort((a, b) => {\n        if (a.signerIndex > b.signerIndex) return 1\n        if (a.signerIndex < b.signerIndex) return -1\n        if (a.keyId > b.keyId) return 1\n        if (a.keyId < b.keyId) return -1\n        \n        return 0\n      })\n      .map(sig => {\n        return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)]\n      })\n  }\n\n  return [\n    [\n      scriptBuffer(voucher.cadence),\n      voucher.arguments.map(argumentToString),\n      blockBuffer(voucher.refBlock),\n      voucher.computeLimit,\n      addressBuffer(sansPrefix(voucher.proposalKey.address)),\n      voucher.proposalKey.keyId,\n      voucher.proposalKey.sequenceNum,\n      addressBuffer(sansPrefix(voucher.payer)),\n      voucher.authorizers.map(authorizer =>\n        addressBuffer(sansPrefix(authorizer))\n      ),\n    ],\n    prepareSigs(voucher.payloadSigs),\n    prepareSigs(voucher.envelopeSigs),\n  ]\n}\n\nconst validatePayload = (tx: Transaction) => {\n  payloadFields.forEach(field => checkField(tx, field))\n  proposalKeyFields.forEach(field =>\n    checkField(tx.proposalKey, field, \"proposalKey\")\n  )\n}\n\nconst validateEnvelope = (tx: Transaction) => {\n  payloadSigsFields.forEach(field => checkField(tx, field))\n  tx.payloadSigs?.forEach((sig, index) => {\n    payloadSigFields.forEach(field =>\n      checkField(sig, field, \"payloadSigs\", index)\n    )\n  })\n}\n\nconst validateVoucher = (voucher: Voucher) => {\n  payloadFields.forEach(field => checkField(voucher, field))\n  proposalKeyFields.forEach(field =>\n    checkField(voucher.proposalKey, field, \"proposalKey\")\n  )\n  payloadSigsFields.forEach(field => checkField(voucher, field))\n  voucher.payloadSigs.forEach((sig, index) => {\n    payloadSigFields.forEach(field =>\n      checkField(sig, field, \"payloadSigs\", index)\n    )\n  })\n  envelopeSigsFields.forEach(field => checkField(voucher, field))\n  voucher.envelopeSigs.forEach((sig, index) => {\n    envelopeSigFields.forEach(field =>\n      checkField(sig, field, \"envelopeSigs\", index)\n    )\n  })\n}\n\nconst isNumber = (v: any): v is number => typeof v === \"number\"\nconst isString = (v: any): v is string => typeof v === \"string\"\nconst isObject = (v: any) => v !== null && typeof v === \"object\"\nconst isArray = (v: any) => isObject(v) && v instanceof Array\n\ninterface VoucherArgument {\n  type: string\n  value: string\n}\n\ninterface VoucherProposalKey {\n  address: string\n  keyId: number | null\n  sequenceNum: number | null\n}\n\ninterface Sig {\n  address: string,\n  keyId: number | string,\n  sig: string,\n}\n\nexport interface TransactionProposalKey {\n  address?: string\n  keyId?: number | string\n  sequenceNum?: number\n}\nexport interface Transaction {\n  cadence: string | null;\n  refBlock: string | null;\n  computeLimit: string | null;\n  arguments: VoucherArgument[]\n  proposalKey: TransactionProposalKey\n  payer: string\n  authorizers: string[]\n  payloadSigs?: Sig[]\n  envelopeSigs?: TransactionProposalKey[]\n}\n\nexport interface Voucher {\n  cadence: string;\n  refBlock: string;\n  computeLimit: number;\n  arguments: VoucherArgument[]\n  proposalKey: VoucherProposalKey\n  payer: string\n  authorizers: string[]\n  payloadSigs: Sig[]\n  envelopeSigs: Sig[]\n}\n\ninterface PayloadField {\n  name: string,\n  check: (v: any) => boolean,\n  defaultVal?: string\n}\n\nconst payloadFields: PayloadField[] = [\n  {name: \"cadence\", check: isString},\n  {name: \"arguments\", check: isArray},\n  {name: \"refBlock\", check: isString, defaultVal: \"0\"},\n  {name: \"computeLimit\", check: isNumber},\n  {name: \"proposalKey\", check: isObject},\n  {name: \"payer\", check: isString},\n  {name: \"authorizers\", check: isArray},\n]\n\nconst proposalKeyFields: PayloadField[] = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sequenceNum\", check: isNumber},\n]\n\nconst payloadSigsFields: PayloadField[] = [{name: \"payloadSigs\", check: isArray}]\n\nconst payloadSigFields: PayloadField[] = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sig\", check: isString},\n]\n\nconst envelopeSigsFields: PayloadField[] = [{ name: \"envelopeSigs\", check: isArray }]\n\nconst envelopeSigFields: PayloadField[] = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sig\", check: isString},\n]\n\nconst checkField = (\n  obj: Record<string, any>,\n  field: PayloadField,\n  base?: string,\n  index?: number\n) => {\n  const {name, check, defaultVal} = field\n  if (obj[name] == null && defaultVal != null) obj[name] = defaultVal\n  if (obj[name] == null) throw missingFieldError(name, base, index)\n  if (!check(obj[name])) throw invalidFieldError(name, base, index)\n}\n\nconst printFieldName = (field: string, base?: string, index?: number) => {\n  if (!!base)\n    return index == null ? `${base}.${field}` : `${base}.${index}.${field}`\n  return field\n}\n\nconst missingFieldError = (field: string, base?: string, index?: number) =>\n  new Error(`Missing field ${printFieldName(field, base, index)}`)\nconst invalidFieldError = (field: string, base?: string, index?: number) =>\n  new Error(`Invalid field ${printFieldName(field, base, index)}`)\n","import {withPrefix} from \"@onflow/util-address\"\nimport {Voucher, encodeTxIdFromVoucher} from \"../encode/encode\"\nimport { Interaction } from \"@onflow/typedefs\"\n\nexport function findInsideSigners(ix: Interaction) {\n  // Inside Signers Are: (authorizers + proposer) - payer\n  let inside = new Set(ix.authorizations)\n  if (ix.proposer) {\n    inside.add(ix.proposer)\n  }\n  if (Array.isArray(ix.payer)) {\n    ix.payer.forEach(p => inside.delete(p))\n  } else {\n    inside.delete(ix.payer)\n  }\n  return Array.from(inside)\n}\n\nexport function findOutsideSigners(ix: Interaction) {\n  // Outside Signers Are: (payer)\n  let outside = new Set(Array.isArray(ix.payer) ? ix.payer : [ix.payer])\n  return Array.from(outside)\n}\n\nexport const createSignableVoucher = (ix: Interaction) => {\n  const buildAuthorizers = () => {\n    const authorizations = ix.authorizations\n      .map(cid => withPrefix(ix.accounts[cid].addr))\n      .reduce((prev: (string | null)[], current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, [])\n    return authorizations?.[0] ? authorizations : []\n  }\n\n  const buildInsideSigners = () =>\n    findInsideSigners(ix).map(id => ({\n      address: withPrefix(ix.accounts[id].addr),\n      keyId: ix.accounts[id].keyId,\n      sig: ix.accounts[id].signature,\n    }))\n\n  const buildOutsideSigners = () =>\n    findOutsideSigners(ix).map(id => ({\n      address: withPrefix(ix.accounts[id].addr),\n      keyId: ix.accounts[id].keyId,\n      sig: ix.accounts[id].signature,\n    }))\n\n  const proposalKey = ix.proposer ? {\n    address: withPrefix(ix.accounts[ix.proposer].addr),\n    keyId: ix.accounts[ix.proposer].keyId,\n    sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n  } : {}\n\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey,\n    payer: withPrefix(\n      ix.accounts[Array.isArray(ix.payer) ? ix.payer[0] : ix.payer].addr\n    ),\n    authorizers: buildAuthorizers(),\n    payloadSigs: buildInsideSigners(),\n    envelopeSigs: buildOutsideSigners(),\n  }\n}\n\nexport const voucherToTxId = (voucher: Voucher) => {\n  return encodeTxIdFromVoucher(voucher)\n}\n","import {sansPrefix, withPrefix} from \"@onflow/util-address\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {log} from \"@onflow/util-logger\"\nimport {isTransaction} from \"../interaction/interaction\"\nimport { Interaction, InteractionAccount } from \"@onflow/typedefs\"; \nimport {createSignableVoucher} from \"./voucher\"\nimport {v4 as uuidv4} from \"uuid\"\n\nconst MAX_DEPTH_LIMIT = 5\n\nconst idof = (acct: InteractionAccount) => `${withPrefix(acct.addr)}-${acct.keyId}`\nconst isFn = (v: any): v is Function =>\n  v &&\n  (Object.prototype.toString.call(v) === \"[object Function]\" ||\n    \"function\" === typeof v ||\n    v instanceof Function)\n\nconst genAccountId = (...ids: (string | boolean | undefined)[]) => ids.join(\"-\")\n\nenum ROLES {\n  PAYER = \"payer\",\n  PROPOSER = \"proposer\",\n  AUTHORIZATIONS = \"authorizations\",\n}\n\nfunction debug() {\n  const SPACE = \" \"\n  const SPACE_COUNT_PER_INDENT = 4\n  const DEBUG_MESSAGE: string[] = []\n  return [\n    function (msg = '', indent = 0) {\n      DEBUG_MESSAGE.push(\n        Array(indent * SPACE_COUNT_PER_INDENT)\n          .fill(SPACE)\n          .join(\"-\") + msg\n      )\n    },\n    function () {\n      return DEBUG_MESSAGE.reduce((prev, curr) => prev + \"\\n\" + curr)\n    },\n  ]\n}\n\nfunction recurseFlatMap<T>(el: T, depthLimit = 3) {\n  if (depthLimit <= 0) return el\n  if (!Array.isArray(el)) return el\n  return recurseFlatMap(\n    el.flatMap(e => e),\n    depthLimit - 1\n  )\n}\n\nexport function buildPreSignable(acct: Partial<InteractionAccount>, ix: Interaction) {\n  try {\n    return {\n      f_type: \"PreSignable\",\n      f_vsn: \"1.0.1\",\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildPreSignable\", error)\n    throw error\n  }\n}\n\nasync function removeUnusedIxAccounts(ix: Interaction, opts: Record<string, any>) {\n  const payerTempIds = Array.isArray(ix.payer) ? ix.payer : [ix.payer]\n  const authorizersTempIds = Array.isArray(ix.authorizations)\n    ? ix.authorizations\n    : [ix.authorizations]\n  const proposerTempIds = ix.proposer === null \n    ? [] \n    : Array.isArray(ix.proposer)\n    ? ix.proposer\n    : [ix.proposer]\n\n  const ixAccountKeys = Object.keys(ix.accounts)\n  const uniqueTempIds = [\n    ...new Set(payerTempIds.concat(authorizersTempIds, proposerTempIds)),\n  ]\n\n  for (const ixAccountKey of ixAccountKeys) {\n    if (!uniqueTempIds.find(id => id === ixAccountKey)) {\n      delete ix.accounts[ixAccountKey]\n    }\n  }\n}\n\nfunction addAccountToIx(ix: Interaction, newAccount: InteractionAccount) {\n  if (\n    typeof newAccount.addr === \"string\" &&\n    (typeof newAccount.keyId === \"number\" ||\n      typeof newAccount.keyId === \"string\")\n  ) {\n    newAccount.tempId = idof(newAccount)\n  } else {\n    newAccount.tempId = newAccount.tempId || uuidv4()\n  }\n\n  const existingAccount = ix.accounts[newAccount.tempId] || newAccount\n\n  if (!ix.accounts[newAccount.tempId]) {\n    ix.accounts[newAccount.tempId] = newAccount\n  }\n\n  ix.accounts[newAccount.tempId].role.proposer =\n    existingAccount.role.proposer || newAccount.role.proposer\n  ix.accounts[newAccount.tempId].role.payer =\n    existingAccount.role.payer || newAccount.role.payer\n  ix.accounts[newAccount.tempId].role.authorizer =\n    existingAccount.role.authorizer || newAccount.role.authorizer\n\n  return ix.accounts[newAccount.tempId]\n}\n\nfunction uniqueAccountsFlatMap(accounts: InteractionAccount[]) {\n  const flatMapped = recurseFlatMap(accounts)\n  const seen = new Set()\n\n  const uniqueAccountsFlatMapped = flatMapped\n    .map(account => {\n      const accountId = genAccountId(\n        account.tempId,\n        account.role.payer,\n        account.role.proposer,\n        account.role.authorizer,\n        account.role.param\n      )\n      if (seen.has(accountId)) return null\n      seen.add(accountId)\n      return account\n    })\n    .filter(e => e !== null) as InteractionAccount[]\n\n  return uniqueAccountsFlatMapped\n}\n\nasync function recurseResolveAccount(\n  ix: Interaction,\n  currentAccountTempId: string,\n  depthLimit = MAX_DEPTH_LIMIT,\n  {debugLogger}: {debugLogger: (msg?: string, indent?: number) => void}\n) {\n  if (depthLimit <= 0) {\n    throw new Error(\n      `recurseResolveAccount Error: Depth limit (${MAX_DEPTH_LIMIT}) reached. Ensure your authorization functions resolve to an account after ${MAX_DEPTH_LIMIT} resolves.`\n    )\n  }\n\n  let account = ix.accounts[currentAccountTempId]\n\n  if (!account) return null\n\n  debugLogger(\n    `account: ${account.tempId}`,\n    Math.max(MAX_DEPTH_LIMIT - depthLimit, 0)\n  )\n\n  if (account?.resolve) {\n    if (isFn(account?.resolve)) {\n      debugLogger(\n        `account: ${account.tempId} -- cache MISS`,\n        Math.max(MAX_DEPTH_LIMIT - depthLimit, 0)\n      )\n\n      const {resolve, ...accountWithoutResolve} = account\n\n      let resolvedAccounts = await resolve(\n        accountWithoutResolve,\n        buildPreSignable(accountWithoutResolve, ix)\n      )\n\n      resolvedAccounts = Array.isArray(resolvedAccounts)\n        ? resolvedAccounts\n        : [resolvedAccounts]\n\n      let flatResolvedAccounts = recurseFlatMap(resolvedAccounts)\n\n      flatResolvedAccounts = flatResolvedAccounts.map((flatResolvedAccount: InteractionAccount) =>\n        addAccountToIx(ix, flatResolvedAccount)\n      )\n\n      account.resolve = flatResolvedAccounts.map(\n        (flatResolvedAccount: InteractionAccount) => flatResolvedAccount.tempId\n      )\n\n      account = addAccountToIx(ix, account)\n\n      const recursedAccounts = await Promise.all(\n        flatResolvedAccounts.map(async (resolvedAccount: InteractionAccount) => {\n          return await recurseResolveAccount(\n            ix,\n            resolvedAccount.tempId,\n            depthLimit - 1,\n            {debugLogger}\n          )\n        })\n      )\n\n      return recursedAccounts\n        ? recurseFlatMap(recursedAccounts)\n        : account.tempId\n    } else {\n      debugLogger(\n        `account: ${account.tempId} -- cache HIT`,\n        Math.max(MAX_DEPTH_LIMIT - depthLimit, 0)\n      )\n\n      return account.resolve\n    }\n  }\n  return account.tempId\n}\n\nconst getAccountTempIDs = (rawTempIds: string | string[] | null) => {\n  if (rawTempIds === null) {\n    return []\n  }\n  return Array.isArray(rawTempIds) ? rawTempIds : [rawTempIds]\n}\n\nasync function resolveAccountType(ix: Interaction, type: ROLES, {debugLogger}: {debugLogger: (msg?: string, indent?: number) => void}) {\n  invariant(\n    ix && typeof ix === \"object\",\n    \"resolveAccountType Error: ix not defined\"\n  )\n  invariant(\n    type === ROLES.PAYER ||\n      type === ROLES.PROPOSER ||\n      type === ROLES.AUTHORIZATIONS,\n    \"resolveAccountType Error: type must be 'payer', 'proposer' or 'authorizations'\"\n  )\n\n  let accountTempIDs = getAccountTempIDs(ix[type])\n\n  let allResolvedAccounts: InteractionAccount[] = []\n  for (let accountId of accountTempIDs) {\n    let account = ix.accounts[accountId]\n    invariant(Boolean(account), `resolveAccountType Error: account not found`)\n\n    let resolvedAccountTempIds = await recurseResolveAccount(\n      ix,\n      accountId,\n      MAX_DEPTH_LIMIT,\n      {\n        debugLogger,\n      }\n    )\n\n    resolvedAccountTempIds = Array.isArray(resolvedAccountTempIds)\n      ? resolvedAccountTempIds\n      : [resolvedAccountTempIds]\n\n    let resolvedAccounts: InteractionAccount[] = resolvedAccountTempIds.map(\n      (resolvedAccountTempId: string) => ix.accounts[resolvedAccountTempId]\n    )\n\n    let flatResolvedAccounts = uniqueAccountsFlatMap(resolvedAccounts)\n\n    allResolvedAccounts = allResolvedAccounts.concat(flatResolvedAccounts)\n  }\n\n  invariant(\n    allResolvedAccounts.length > 0,\n    \"resolveAccountType Error: failed to resolve any accounts\"\n  )\n\n  if (type === ROLES.PAYER) {\n    allResolvedAccounts = allResolvedAccounts.filter(\n      acct => acct.role.payer === true\n    )\n  }\n  if (type === ROLES.PROPOSER) {\n    allResolvedAccounts = allResolvedAccounts.filter(\n      acct => acct.role.proposer === true\n    )\n  }\n  if (type === ROLES.AUTHORIZATIONS) {\n    allResolvedAccounts = allResolvedAccounts.filter(\n      acct => acct.role.authorizer === true\n    )\n  }\n\n  ix[type] = (Array.isArray(ix[type])\n    ? [...new Set(allResolvedAccounts.map(acct => acct.tempId))]\n    : allResolvedAccounts[0].tempId) as string & string[]\n\n  // Ensure all payers are of the same account\n  if (type === ROLES.PAYER) {\n    let address\n    for (const payerTempID of ix[ROLES.PAYER]) {\n      let pAcct = ix.accounts[payerTempID]\n      if (!address) address = pAcct.addr\n      else if (address !== pAcct.addr) {\n        throw new Error(\n          \"resolveAccountType Error: payers from different accounts detected\"\n        )\n      }\n    }\n  }\n}\n\nexport async function resolveAccounts(ix: Interaction, opts: Record<string, any> = {}) {\n  if (isTransaction(ix)) {\n    if (!Array.isArray(ix.payer)) {\n      log.deprecate({\n        pkg: \"FCL\",\n        subject:\n          '\"ix.payer\" must be an array. Support for ix.payer as a singular',\n        message: \"See changelog for more info.\",\n      })\n    }\n    let [debugLogger, getDebugMessage] = debug()\n    try {\n      await resolveAccountType(ix, ROLES.PROPOSER, {debugLogger})\n      await resolveAccountType(ix, ROLES.AUTHORIZATIONS, {debugLogger})\n      await resolveAccountType(ix, ROLES.PAYER, {debugLogger})\n\n      await removeUnusedIxAccounts(ix, {debugLogger})\n\n      if (opts.enableDebug) {\n        console.debug(getDebugMessage())\n      }\n    } catch (error) {\n      console.error(\"=== SAD PANDA ===\\n\\n\", error, \"\\n\\n=== SAD PANDA ===\")\n      throw error\n    }\n  }\n  return ix\n}\n","import {isTransaction} from \"../interaction/interaction\"\nimport { Interaction, InteractionAccount } from \"@onflow/typedefs\"; \nimport {sansPrefix} from \"@onflow/util-address\"\nimport {\n  Transaction,\n  TransactionProposalKey,\n  encodeTransactionPayload as encodeInsideMessage,\n  encodeTransactionEnvelope as encodeOutsideMessage,\n} from \"../encode/encode\"\nimport {\n  createSignableVoucher,\n  findInsideSigners,\n  findOutsideSigners,\n} from \"./voucher\"\n\nexport async function resolveSignatures(ix: Interaction) {\n  if (isTransaction(ix)) {\n    try {\n      let insideSigners = findInsideSigners(ix)\n      const insidePayload = encodeInsideMessage(prepForEncoding(ix))\n      \n      // Promise.all could potentially break the flow if there are multiple inside signers trying to resolve at the same time\n      // causing multiple triggers of authz function that tries to render multiple auth iiframes/tabs/extensions\n      // as an alternative, use this:\n      // for(const insideSigner of insideSigners) {\n      //   await fetchSignature(ix, insidePayload)(insideSigner);\n      // }\n      await Promise.all(insideSigners.map(fetchSignature(ix, insidePayload)))\n\n      let outsideSigners = findOutsideSigners(ix)\n      const outsidePayload = encodeOutsideMessage({\n        ...prepForEncoding(ix),\n        payloadSigs: insideSigners.map(id => ({\n          address: ix.accounts[id].addr || '',\n          keyId: ix.accounts[id].keyId || 0,\n          sig: ix.accounts[id].signature || '',\n        })),\n      })\n\n      // Promise.all could potentially break the flow if there are multiple outside signers trying to resolve at the same time\n      // causing multiple triggers of authz function that tries to render multiple auth iframes/tabs/extensions\n      // as an alternative, use this:\n      // for(const outsideSigner of outsideSigners) {\n      //   await fetchSignature(ix, outsidePayload)(outsideSigner);\n      // }\n      await Promise.all(outsideSigners.map(fetchSignature(ix, outsidePayload)))\n    } catch (error) {\n      console.error(\"Signatures\", error, {ix})\n      throw error\n    }\n  }\n  return ix\n}\n\nfunction fetchSignature(ix: Interaction, payload: string) {\n  return async function innerFetchSignature(id: string) {\n    const acct = ix.accounts[id]\n    if (acct.signature != null && acct.signature !== undefined) return\n    const {signature} = await acct.signingFunction(\n      buildSignable(acct, payload, ix)\n    )\n    ix.accounts[id].signature = signature\n  }\n}\n\nexport function buildSignable(acct: InteractionAccount, message: string, ix: Interaction) {\n  try {\n    return {\n      f_type: \"Signable\",\n      f_vsn: \"1.0.1\",\n      message,\n      addr: sansPrefix(acct.addr),\n      keyId: acct.keyId,\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildSignable\", error)\n    throw error\n  }\n}\n\nfunction prepForEncoding(ix: Interaction): Transaction {\n  const payerAddress = sansPrefix(\n    (Array.isArray(ix.payer) ? ix.accounts[ix.payer[0]] : ix.accounts[ix.payer])\n      .addr || \"\"\n  )\n  \n  const proposalKey: TransactionProposalKey = ix.proposer ? {\n    address: sansPrefix(ix.accounts[ix.proposer].addr) || '',\n    keyId: ix.accounts[ix.proposer].keyId || 0,\n    sequenceNum: ix.accounts[ix.proposer].sequenceNum || 0,\n  } : {}\n\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey,\n    payer: payerAddress,\n    authorizers: ix.authorizations\n      .map(cid => sansPrefix(ix.accounts[cid].addr) || '')\n      .reduce((prev: string[], current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, []),\n  }\n}\n","import {get, pipe, Ok, Bad} from \"../interaction/interaction\"\n\nexport async function resolveValidators(ix) {\n  const validators = get(ix, \"ix.validators\", [])\n  return pipe(\n    ix,\n    validators.map(cb => ix => cb(ix, {Ok, Bad}))\n  )\n}\n","import {sansPrefix} from \"@onflow/util-address\"\n\nexport async function resolveFinalNormalization(ix) {\n  for (let key of Object.keys(ix.accounts)) {\n    ix.accounts[key].addr = sansPrefix(ix.accounts[key].addr)\n  }\n  return ix\n}\n","import {get, isFn} from \"../interaction/interaction\"\nimport {createSignableVoucher} from \"./voucher\"\n\nexport async function resolveVoucherIntercept(ix) {\n  const fn = get(ix, \"ix.voucher-intercept\")\n  if (isFn(fn)) {\n    await fn(createSignableVoucher(ix))\n  }\n  return ix\n}\n","import {isTransaction} from \"../interaction/interaction\"\nimport {config} from \"@onflow/config\"\nimport * as logger from \"@onflow/util-logger\"\n\nconst DEFAULT_COMPUTE_LIMIT = 100\n\nexport async function resolveComputeLimit(ix) {\n  if (isTransaction(ix)) {\n    ix.message.computeLimit =\n      ix.message.computeLimit || (await config.get(\"fcl.limit\"))\n\n    if (!ix.message.computeLimit) {\n      logger.log.deprecate({\n        pkg: \"FCL/SDK\",\n        subject:\n          \"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)\",\n        transition:\n          \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit\",\n      })\n      ix.message.computeLimit = DEFAULT_COMPUTE_LIMIT\n    }\n  }\n  return ix\n}\n","import {pipe, isTransaction} from \"../interaction/interaction\"\nimport {config} from \"@onflow/config\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\nimport * as ixModule from \"../interaction/interaction\"\nimport {response} from \"../response/response\"\nimport {build} from \"../build/build.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\n\nimport {resolveCadence} from \"./resolve-cadence.js\"\nimport {resolveArguments} from \"./resolve-arguments.js\"\nimport {resolveAccounts} from \"./resolve-accounts\"\nimport {resolveSignatures} from \"./resolve-signatures\"\nimport {resolveValidators} from \"./resolve-validators.js\"\nimport {resolveFinalNormalization} from \"./resolve-final-normalization.js\"\nimport {resolveVoucherIntercept} from \"./resolve-voucher-intercept.js\"\nimport {resolveComputeLimit} from \"./resolve-compute-limit.js\"\n\nconst noop = v => v\nconst debug =\n  (key, fn = noop) =>\n  async ix => {\n    const take = (obj, keys = []) => {\n      if (typeof keys === \"string\") keys = keys.split(\" \")\n      keys.reduce((acc, key) => ({...acc, [key]: obj[key]}), {})\n    }\n\n    const accts = ix =>\n      [\n        \"\\nAccounts:\",\n        {\n          proposer: ix.proposer,\n          authorizations: ix.authorizations,\n          payer: ix.payer,\n        },\n        \"\\n\\nDetails:\",\n        ix.accounts,\n      ].filter(Boolean)\n\n    const log = (...msg) => {\n      console.log(`debug[${key}] ---\\n`, ...msg, \"\\n\\n\\n---\")\n    }\n\n    if (await config.get(`debug.${key}`)) await fn(ix, log, accts)\n    return ix\n  }\n\nexport const resolve = pipe([\n  resolveCadence,\n  debug(\"cadence\", (ix, log) => log(ix.message.cadence)),\n  resolveComputeLimit,\n  debug(\"compute limit\", (ix, log) => log(ix.message.computeLimit)),\n  resolveArguments,\n  debug(\"arguments\", (ix, log) => log(ix.message.arguments, ix.message)),\n  resolveAccounts,\n  debug(\"accounts\", (ix, log, accts) => log(...accts(ix))),\n  /* special */ execFetchRef,\n  /* special */ execFetchSequenceNumber,\n  resolveSignatures,\n  debug(\"signatures\", (ix, log, accts) => log(...accts(ix))),\n  resolveFinalNormalization,\n  resolveValidators,\n  resolveVoucherIntercept,\n  debug(\"resolved\", (ix, log) => log(ix)),\n])\n\nasync function execFetchRef(ix) {\n  if (isTransaction(ix) && ix.message.refBlock == null) {\n    const node = await config().get(\"accessNode.api\")\n    const sendFn = await config.first(\n      [\"sdk.transport\", \"sdk.send\"],\n      defaultSend\n    )\n\n    invariant(\n      sendFn,\n      `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n    )\n\n    ix.message.refBlock = (\n      await sendFn(\n        build([getBlock()]),\n        {config, response, Buffer, ix: ixModule},\n        {node}\n      ).then(decode)\n    ).id\n  }\n  return ix\n}\n\nasync function execFetchSequenceNumber(ix) {\n  if (isTransaction(ix)) {\n    var acct = Object.values(ix.accounts).find(a => a.role.proposer)\n    invariant(acct, `Transactions require a proposer`)\n    if (acct.sequenceNum == null) {\n      const node = await config().get(\"accessNode.api\")\n      const sendFn = await config.first(\n        [\"sdk.transport\", \"sdk.send\"],\n        defaultSend\n      )\n\n      invariant(\n        sendFn,\n        `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n      )\n\n      ix.accounts[acct.tempId].sequenceNum = await sendFn(\n        await build([getAccount(acct.addr)]),\n        {config, response, Buffer, ix: ixModule},\n        {node}\n      )\n        .then(decode)\n        .then(acct => acct.keys)\n        .then(keys => keys.find(key => key.index === acct.keyId))\n        .then(key => key.sequenceNumber)\n    }\n  }\n  return ix\n}\n","import {Ok, Bad} from \"../interaction/interaction\"\n\nexport function invariant(...args) {\n  if (args.length > 1) {\n    const [predicate, message] = args\n    return invariant((ix, {Ok, Bad}) => {\n      return predicate ? Ok(ix) : Bad(ix, message)\n    })\n  }\n  const [fn] = args\n  return ix => fn(ix, {Ok, Bad})\n}\n","import {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\nimport {initInteraction, pipe} from \"../interaction/interaction\"\nimport * as ixModule from \"../interaction/interaction\"\nimport {invariant} from \"../build/build-invariant.js\"\nimport {response} from \"../response/response\"\nimport {config} from \"@onflow/config\"\nimport {resolve as defaultResolve} from \"../resolve/resolve.js\"\n\n/**\n * @description - Sends arbitrary scripts, transactions, and requests to Flow\n * @param {Array.<Function>} args - An array of functions that take interaction and return interaction\n * @param {object} opts - Optional parameters\n * @returns {Promise<*>} - A promise that resolves to a response\n */\nexport const send = async (args = [], opts = {}) => {\n  const sendFn = await config.first(\n    [\"sdk.transport\", \"sdk.send\"],\n    opts.send || defaultSend\n  )\n\n  invariant(\n    sendFn,\n    `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n  )\n\n  const resolveFn = await config.first(\n    [\"sdk.resolve\"],\n    opts.resolve || defaultResolve\n  )\n\n  opts.node = opts.node || (await config().get(\"accessNode.api\"))\n\n  if (Array.isArray(args)) args = pipe(initInteraction(), args)\n  return sendFn(\n    await resolveFn(args),\n    {config, response, ix: ixModule, Buffer},\n    opts\n  )\n}\n","import {config} from \"@onflow/config\"\nimport {decodeResponse} from \"./decode\"\n\nexport async function decode(response) {\n  const decodersFromConfig = await config().where(/^decoder\\./)\n  const decoders = Object.entries(decodersFromConfig).map(\n    ([pattern, xform]) => {\n      pattern = `/${pattern.replace(/^decoder\\./, \"\")}$/`\n      return [pattern, xform]\n    }\n  )\n\n  return decodeResponse(response, Object.fromEntries(decoders))\n}\n","import {withPrefix, sansPrefix} from \"@onflow/util-address\"\nimport {\n  encodeTransactionPayload,\n  encodeTransactionEnvelope,\n} from \"../encode/encode\"\n\nconst findPayloadSigners = voucher => {\n  // Payload Signers Are: (authorizers + proposer) - payer\n  let payload = new Set(voucher.authorizers)\n  payload.add(voucher.proposalKey.address)\n  payload.delete(voucher.payer)\n  return Array.from(payload).map(withPrefix)\n}\n\nconst findEnvelopeSigners = voucher => {\n  // Envelope Signers Are: (payer)\n  let envelope = new Set([voucher.payer])\n  return Array.from(envelope).map(withPrefix)\n}\n\nexport class UnableToDetermineMessageEncodingTypeForSignerAddress extends Error {\n  constructor(signerAddress) {\n    const msg = `\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: ${signerAddress}. \n        Please ensure the address: ${signerAddress} is intended to sign the given transaction as specified by the transaction signable.\n      `.trim()\n    super(msg)\n    this.name = \"Unable To Determine Message Encoding For Signer Addresss\"\n  }\n}\n\nexport const encodeMessageFromSignable = (signable, signerAddress) => {\n  let payloadSigners = findPayloadSigners(signable.voucher)\n  let envelopeSigners = findEnvelopeSigners(signable.voucher)\n\n  const isPayloadSigner = payloadSigners.includes(withPrefix(signerAddress))\n  const isEnvelopeSigner = envelopeSigners.includes(withPrefix(signerAddress))\n\n  if (!isPayloadSigner && !isEnvelopeSigner) {\n    throw new UnableToDetermineMessageEncodingTypeForSignerAddress(\n      signerAddress\n    )\n  }\n\n  const message = {\n    cadence: signable.voucher.cadence,\n    refBlock: signable.voucher.refBlock,\n    computeLimit: signable.voucher.computeLimit,\n    arguments: signable.voucher.arguments,\n    proposalKey: {\n      ...signable.voucher.proposalKey,\n      address: sansPrefix(signable.voucher.proposalKey.address),\n    },\n    payer: sansPrefix(signable.voucher.payer),\n    authorizers: signable.voucher.authorizers.map(sansPrefix),\n    payloadSigs: signable.voucher.payloadSigs.map(ps => ({\n      ...ps,\n      address: sansPrefix(ps.address),\n    })),\n  }\n\n  return isPayloadSigner\n    ? encodeTransactionPayload(message)\n    : encodeTransactionEnvelope(message)\n}\n","import {update} from \"../interaction/interaction\"\n\nexport function validator(cb) {\n  return update(\"ix.validators\", validators =>\n    Array.isArray(validators) ? validators.push(cb) : [cb]\n  )\n}\n","import {pipe} from \"../interaction/interaction\"\nimport {validator} from \"./build-validator.js\"\n\n/**\n * @description - A builder function that returns a partial interaction to a block at a specific height\n * @param {number} height - The height of the block to get\n * @returns {Function} - A partial interaction object\n */\nexport function atBlockHeight(height) {\n  return pipe([\n    ix => {\n      ix.block.height = height\n      return ix\n    },\n    validator(ix => {\n      if (typeof ix.block.isSealed === \"boolean\")\n        throw new Error(\"Unable to specify both block height and isSealed.\")\n      if (ix.block.id)\n        throw new Error(\"Unable to specify both block height and block id.\")\n      return ix\n    }),\n  ])\n}\n","import {isGetAccount, pipe, Ok} from \"../interaction/interaction\"\nimport {validator} from \"./build-validator.js\"\n\nexport function atBlockId(id) {\n  return pipe([\n    ix => {\n      ix.block.id = id\n      return Ok(ix)\n    },\n    validator((ix, {Ok, Bad}) => {\n      if (isGetAccount(ix))\n        return Bad(\n          ix,\n          \"Unable to specify a block id with a Get Account interaction.\"\n        )\n      if (typeof ix.block.isSealed === \"boolean\")\n        return Bad(ix, \"Unable to specify both block id and isSealed.\")\n      if (ix.block.height)\n        return Bad(ix, \"Unable to specify both block id and block height.\")\n      return Ok(ix)\n    }),\n  ])\n}\n","import {atBlockHeight} from \"../build/build-at-block-height.js\"\nimport {atBlockId} from \"../build/build-at-block-id.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\nimport {send} from \"../send/send.js\"\n\n/**\n * @typedef {import(\"@onflow/typedefs\").Account} Account\n */\n\n/**\n * @description  Returns the details of an account from their public address\n * @param {string} address - Address of the account\n * @param {object} [queryOptions] - Query parameters\n * @param {number} [queryOptions.height] - Block height to query\n * @param {string} [queryOptions.id] - Block ID to query\n * @param {object} [opts] - Optional parameters\n * @returns {Promise<Account>} - A promise that resolves to an account response\n */\nexport function account(address, {height, id} = {}, opts) {\n  invariant(\n    !(id && height),\n    `Method: account -- Cannot pass \"id\" and \"height\" simultaneously`\n  )\n\n  // Get account by ID\n  if (id) return send([getAccount(address), atBlockId(id)], opts).then(decode)\n\n  // Get account by height\n  if (height)\n    return send([getAccount(address), atBlockHeight(height)], opts).then(decode)\n\n  return send([getAccount(address)], opts).then(decode)\n}\n","import {send} from \"../send/send.js\"\nimport {getBlock} from \"../build/build-get-block\"\nimport {atBlockHeight} from \"../build/build-at-block-height.js\"\nimport {atBlockId} from \"../build/build-at-block-id.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\nimport {invariant} from \"@onflow/util-invariant\"\n\n/**\n * @typedef {import(\"@onflow/typedefs\").Block} Block\n */\n\n/**\n * @description Returns the latest block (optionally sealed or not), by id, or by height\n * @param {object} [queryOptions] - Query parameters\n * @param {boolean} [queryOptions.sealed] - Whether to query for a sealed block\n * @param {number} [queryOptions.height] - Block height to query\n * @param {string} [queryOptions.id] - Block ID to query\n * @param {object} [opts] - Optional parameters\n * @returns {Promise<Block>} - A promise that resolves to a block response\n */\nexport function block({sealed = false, id, height} = {}, opts = {}) {\n  invariant(\n    !((sealed && id) || (sealed && height)),\n    `Method: block -- Cannot pass \"sealed\" with \"id\" or \"height\"`\n  )\n\n  invariant(\n    !(id && height),\n    `Method: block -- Cannot pass \"id\" and \"height\" simultaneously`\n  )\n\n  // Get block by ID\n  if (id) return send([getBlock(), atBlockId(id)], opts).then(decode)\n\n  // Get block by height\n  if (height)\n    return send([getBlock(), atBlockHeight(height)], opts).then(decode)\n\n  // Get latest block\n  return send([getBlock(sealed)], opts).then(decode)\n}\n","import {Ok, makeGetNodeVerionInfo, pipe} from \"../interaction/interaction\"\n\n/**\n * A builder function for the Get Node Version Info interaction\n */\nexport function getNodeVersionInfo(): Function {\n  return pipe([\n    makeGetNodeVerionInfo,\n    ix => {\n      return Ok(ix)\n    },\n  ])\n}\n","import {send} from \"../send/send.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\nimport {getNodeVersionInfo} from \"../build/build-get-node-version-info\"\nimport {NodeVersionInfo} from \"@onflow/typedefs\"\n\n/**\n * @description Returns the version information from to connected node\n * @returns A promise that resolves to a block response\n */\nexport async function nodeVersionInfo(\n  opts: any = {}\n): Promise<NodeVersionInfo> {\n  return send([getNodeVersionInfo()], opts).then(decode)\n}\n","import { TransactionRole } from \"@onflow/typedefs\"\nimport {pipe, prepAccount} from \"../interaction/interaction\"\n\nexport function authorizations(ax = []) {\n  return pipe(\n    ax.map(authz => {\n      return prepAccount(authz, {role: TransactionRole.AUTHORIZER})\n    })\n  )\n}\n\nexport function authorization(addr, signingFunction, keyId, sequenceNum) {\n  return {addr, signingFunction, keyId, sequenceNum}\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction\"\nimport * as logger from \"@onflow/util-logger\"\n\nexport function getEvents(eventType, start, end) {\n  if (typeof start !== \"undefined\" || typeof end !== \"undefined\") {\n    logger.log.deprecate({\n      pkg: \"FCL/SDK\",\n      subject: \"Passing a start and end into getEvents\",\n      transition:\n        \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\",\n    })\n  }\n\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.start = start\n      ix.events.end = end\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction\"\n\n/**\n * @description - A builder function that returns all instances of a particular event (by name) within a height range\n * NOTE:\n * - The block range provided must be from the current spork.\n * - The block range provided must be 250 blocks or lower per request.\n * @param {string} eventName - The name of the event to get\n * @param {number} fromBlockHeight - The height of the block to start looking for events (inclusive)\n * @param {number} toBlockHeight - The height of the block to stop looking for events (inclusive)\n * @returns {Function} - An interaction object\n */\nexport function getEventsAtBlockHeightRange(eventName, fromBlockHeight, toBlockHeight) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventName\n      ix.events.start = fromBlockHeight\n      ix.events.end = toBlockHeight\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction\"\n\n/**\n * @description - A builder function that returns all instances of a particular event (by name) within a set of blocks, specified by block ids\n * NOTE:\n * - The block range provided must be from the current spork.\n * @param {string} eventName - The name of the event to get\n * @param {number[]} blockIds - The ids of the blocks to look for events\n * @returns {Function} - An interaction object\n */\nexport function getEventsAtBlockIds(eventName, blockIds = []) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventName\n      ix.events.blockIds = blockIds\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetBlockHeader} from \"../interaction/interaction\"\n\n/**\n * @description - A builder function that returns the interaction to get a block header\n * @param {boolean} [isSealed] - Whether or not the block should be sealed\n * @returns {Function} - An interaction object\n */\nexport function getBlockHeader(isSealed = null) {\n  return pipe([\n    makeGetBlockHeader,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, makeGetCollection} from \"../interaction/interaction\"\n\n/**\n * @description - A builder function that returns all a collection containing a list of transaction ids by its collection id\n * NOTE:\n * - The block range provided must be from the current spork. All events emitted during past sporks is current unavailable.\n * @param {string} [id] - The id of the collection to get\n * @returns {Function} - An interaction object\n */\nexport function getCollection(id = null) {\n  return pipe([\n    makeGetCollection,\n    ix => {\n      ix.collection.id = id\n      return ix\n    },\n  ])\n}\n","import {pipe, Ok, makeGetTransactionStatus} from \"../interaction/interaction\"\n\n/**\n * @description - A builder function that returns the status of transaction\n * NOTE: The transactionID provided must be from the current spork.\n * @param {string} transactionId - The id of the transaction to get status\n * @returns {Function} - An interaction object\n */\nexport function getTransactionStatus(transactionId) {\n  return pipe([\n    makeGetTransactionStatus,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetTransaction} from \"../interaction/interaction\"\n\n/**\n * @description - A builder function that returns a transaction\n * NOTE: The transactionID provided must be from the current spork.\n * @param {string} transactionId - The id of the transaction to get\n * @returns {Function} - An interaction object\n */\nexport function getTransaction(transactionId) {\n  return pipe([\n    makeGetTransaction,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetNetworkParameters} from \"../interaction/interaction\"\n\nexport function getNetworkParameters() {\n  return pipe([\n    makeGetNetworkParameters,\n    ix => {\n      return Ok(ix)\n    },\n  ])\n}\n","export function limit(computeLimit) {\n  return ix => {\n    ix.message.computeLimit = computeLimit\n    return ix\n  }\n}\n","import {pipe, makeArgument, CadenceArgument} from \"../interaction/interaction\"\nimport {TypeDescriptorInput, TypeDescriptor} from \"@onflow/types\"\n\n/**\n * @description A utility builder to be used with other builders to pass in arguments with a value and supported type\n * @param ax An array of arguments\n * @returns An interaction object\n */\nexport function args(ax: CadenceArgument<any>[]) {\n  return pipe(ax.map(makeArgument))\n}\n\n/**\n * @description A utility builder to be used with fcl.args[...] to create FCL supported arguments for interactions\n * @param value The value of the argument\n * @param xform A function to transform the value\n * @returns An argument object\n */\nexport function arg<T extends TypeDescriptor<any, any>>(\n  value: TypeDescriptorInput<T>,\n  xform: T\n) {\n  return {value, xform} as CadenceArgument<T>\n}\n","import {TransactionRole} from \"@onflow/typedefs\"\nimport {prepAccount} from \"../interaction/interaction\"\n\nexport function proposer(authz) {\n  return prepAccount(authz, {role: TransactionRole.PROPOSER})\n}\n","import {TransactionRole} from \"@onflow/typedefs\"\nimport {pipe, prepAccount} from \"../interaction/interaction\"\n\n/**\n * @description - A builder function that adds payer account(s) to a transaction\n * @param {Function | Array.<Function>} ax - An account address or array of account addresses\n * @returns {Function} - An interaction object\n */\nexport function payer(ax = []) {\n  if (!Array.isArray(ax)) ax = [ax]\n  return pipe(\n    ax.map(authz => {\n      return prepAccount(authz, {role: TransactionRole.PAYER})\n    })\n  )\n}\n","import {makePing} from \"../interaction/interaction\"\n\nexport function ping() {\n  return makePing\n}\n","import {pipe, Ok} from \"../interaction/interaction\"\n\nexport function ref(refBlock) {\n  return pipe([\n    ix => {\n      ix.message.refBlock = refBlock\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, put, makeScript} from \"../interaction/interaction\"\nimport {template} from \"@onflow/util-template\"\n\nexport function script(...args) {\n  return pipe([makeScript, put(\"ix.cadence\", template(...args))])\n}\n","import {pipe, put, Ok, makeTransaction} from \"../interaction/interaction\"\nimport {template} from \"@onflow/util-template\"\n\nconst DEFAULT_SCRIPT_ACCOUNTS = []\nconst DEFUALT_REF = null\n\n/**\n * @description - A template builder to use a Cadence transaction for an interaction\n * @param {...*} args - The arguments to pass\n * @returns {Function} - An interaction object\n */\nexport function transaction(...args) {\n  return pipe([\n    makeTransaction,\n    put(\"ix.cadence\", template(...args)),\n    ix => {\n      ix.message.refBlock = ix.message.refBlock || DEFUALT_REF\n      ix.authorizations = ix.authorizations || DEFAULT_SCRIPT_ACCOUNTS\n      return Ok(ix)\n    },\n  ])\n}\n","import {put} from \"../interaction/interaction\"\n\nexport function voucherIntercept(fn) {\n  return put(\"ix.voucher-intercept\", fn)\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {pipe, Ok, makeSubscribeEvents} from \"../interaction/interaction\"\nimport {EventFilter, Interaction} from \"@onflow/typedefs\"\n\n/**\n * Subscribe to events with the given filter & parameters\n */\nexport function subscribeEvents({\n  startBlockId,\n  startHeight,\n  eventTypes,\n  addresses,\n  contracts,\n  heartbeatInterval,\n}: EventFilter & {\n  startBlockId?: string\n  startHeight?: number\n  heartbeatInterval?: number\n}): Function {\n  invariant(\n    !(startBlockId && startHeight),\n    `SDK Subscribe Events Error: Cannot set both startBlockId and startHeight.`\n  )\n\n  return pipe([\n    makeSubscribeEvents,\n    (ix: Interaction) => {\n      ix.subscribeEvents.startBlockId = startBlockId ?? null\n      ix.subscribeEvents.startHeight = startHeight ?? null\n      ix.subscribeEvents.eventTypes = eventTypes ?? null\n      ix.subscribeEvents.addresses = addresses ?? null\n      ix.subscribeEvents.contracts = contracts ?? null\n      ix.subscribeEvents.heartbeatInterval = heartbeatInterval ?? null\n      return Ok(ix)\n    },\n  ]) as any\n}\n","import {isTransaction, Ok} from \"../interaction/interaction\"\nimport * as ixModule from \"../interaction/interaction\"\nimport {response as responseModule} from \"../response/response\"\nimport {config} from \"@onflow/config\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {build} from \"../build/build.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\n\nexport const resolveProposerSequenceNumber =\n  ({node}) =>\n  async ix => {\n    if (!isTransaction(ix)) return Ok(ix)\n    if (ix.accounts[ix.proposer].sequenceNum) return Ok(ix)\n\n    const sendFn = await config.first(\n      [\"sdk.transport\", \"sdk.send\"],\n      defaultSend\n    )\n\n    invariant(\n      sendFn,\n      `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n    )\n\n    const response = await sendFn(\n      await build([getAccount(ix.accounts[ix.proposer].addr)]),\n      {config, response: responseModule, Buffer, ix: ixModule},\n      {node}\n    )\n    const decoded = await decodeResponse(response)\n\n    ix.accounts[ix.proposer].sequenceNum =\n      decoded.keys[ix.accounts[ix.proposer].keyId].sequenceNumber\n\n    return Ok(ix)\n  }\n","import {\n  isTransaction,\n  Ok,\n  initInteraction,\n  pipe,\n} from \"../interaction/interaction\"\nimport * as ixModule from \"../interaction/interaction\"\nimport {response} from \"../response/response\"\nimport {config} from \"@onflow/config\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\n\nasync function getRefId(opts) {\n  const node = await config().get(\"accessNode.api\")\n  const sendFn = await config.first([\"sdk.transport\", \"sdk.send\"], defaultSend)\n\n  invariant(\n    sendFn,\n    `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n  )\n\n  var ix\n  ix = await pipe(initInteraction(), [getBlock()])\n  ix = await sendFn(ix, {config, response, Buffer, ix: ixModule}, {node})\n  ix = await decodeResponse(ix)\n  return ix.id\n}\n\nexport function resolveRefBlockId(opts) {\n  return async ix => {\n    if (!isTransaction(ix)) return Ok(ix)\n    if (ix.message.refBlock) return Ok(ix)\n\n    ix.message.refBlock = await getRefId(opts)\n\n    return Ok(ix)\n  }\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isGetAccount, isGetBlock} from \"../interaction/interaction\"\n\nexport function mockAccountResponse(ix, numberOfKeys = 5) {\n  // prettier-ignore\n  invariant(ix.account, \"mockAccountResponse(ix) -- ix.account is missing\", ix)\n  // prettier-ignore\n  invariant( ix.account.addr, \"mockAccountResponse(ix) -- ix.account.addr is missing\", ix)\n\n  const address = ix.account.addr\n\n  return {\n    account: {\n      addr: address,\n      keys: Array.from({length: numberOfKeys}, (_, i) => ({\n        index: i,\n        sequenceNumber: 42,\n      })),\n    },\n  }\n}\n\nexport function mockGetBlockResponse(ix) {\n  return {\n    tag: \"GET_BLOCK\",\n    block: {\n      id: \"32\",\n    },\n  }\n}\n\nconst identity = v => v\n\nexport function mockSend(fallback = identity) {\n  return async function execSend(ix) {\n    ix = await ix\n    switch (true) {\n      case isGetAccount(ix):\n        return mockAccountResponse(ix)\n\n      case isGetBlock(ix):\n        return mockGetBlockResponse(ix)\n\n      default:\n        return fallback(ix)\n    }\n  }\n}\n","import { InteractionAccount } from \"@onflow/typedefs\"\nimport {withPrefix} from \"@onflow/util-address\"\n\nexport const idof = (acct: InteractionAccount) => `${withPrefix(acct.addr)}-${acct.keyId}`\n\nexport function sig(opts: Partial<InteractionAccount>) {\n  return [\"SIGNATURE\", opts.addr, opts.keyId].join(\".\")\n}\n\ninterface IAuthzOpts {\n  signingFunction?: (signable: any) => any\n}\n\nexport function authzFn(opts: IAuthzOpts = {}) {\n  return function (account: Partial<InteractionAccount>) {\n    const acct: Partial<InteractionAccount> = {\n      ...account,\n      ...opts,\n      resolve: null,\n      signingFunction:\n        opts.signingFunction ||\n        account.signingFunction ||\n        fallbackSigningFunction,\n    }\n\n    return acct\n\n    function fallbackSigningFunction(_signable: any) {\n      return {\n        addr: acct.addr,\n        keyId: acct.keyId,\n        signature: sig(acct),\n      }\n    }\n  }\n}\n\ninterface IAuthzResolveOpts {\n  tempId?: string\n}\n\nexport function authzResolve(opts: IAuthzResolveOpts = {}) {\n  return function (account: InteractionAccount) {\n    const {tempId, ...rest} = opts\n    return {\n      ...account,\n      tempId: tempId || \"WITH_RESOLVE\",\n      resolve: authzFn(rest),\n    }\n  }\n}\n\nconst ROLE = {proposer: false, authorizer: false, payer: false}\nconst noop = () => {}\n\ninterface IAuthzResolveMany {\n  tempId?: string\n  authorizations: any[]\n  proposer?: any\n  payer?: any\n}\n\nexport function authzResolveMany(opts: IAuthzResolveMany = {authorizations: []}) {\n  return function (account: InteractionAccount): InteractionAccount {\n    const tempId = opts.tempId || \"AUTHZ_RESOLVE_MANY\"\n    return {\n      ...account,\n      tempId,\n      resolve: () =>\n        [\n          opts.proposer &&\n            authzFn(opts.proposer)({role: {...ROLE, proposer: true}}),\n          ...opts.authorizations\n            .map(authzFn)\n            .map(d => d({role: {...ROLE, authorizer: true}})),\n          opts.payer && authzFn(opts.payer)({role: {...ROLE, payer: true}}),\n        ].filter(Boolean),\n    }\n  }\n}\n\nexport function authzDeepResolveMany(opts: IAuthzResolveMany = {authorizations: []}, depth = 1) {\n  return function (account: InteractionAccount): InteractionAccount {\n    const tempId = opts.tempId || \"AUTHZ_DEEP_RESOLVE_MANY\"\n    return {\n      ...account,\n      tempId,\n      resolve:\n        depth > 0\n          ? authzDeepResolveMany(opts, depth - 1)(account).resolve\n          : authzResolveMany(opts)(account).resolve\n    }\n  }\n}\n","import {build} from \"../build/build\"\nimport {resolve} from \"../resolve/resolve\"\nimport {ref} from \"../build/build-ref\"\n\nexport const run = (fns = []) => build([ref(\"123\"), ...fns]).then(resolve)\n","export const VERSION = PACKAGE_CURRENT_VERSION || \"TESTVERSION\"\n","import * as logger from \"@onflow/util-logger\"\n// Base\nexport {build} from \"./build/build.js\"\nexport {resolve} from \"./resolve/resolve.js\"\nexport {send} from \"./send/send.js\"\nexport {decode} from \"./decode/sdk-decode.js\"\nexport {\n  encodeTransactionPayload,\n  encodeTransactionEnvelope,\n  encodeTxIdFromVoucher,\n} from \"./encode/encode\"\n\n// Utils\nexport {\n  interaction, // deprecated\n  initInteraction,\n  isOk,\n  isBad,\n  why,\n  pipe,\n  get,\n  put,\n  update,\n  destroy,\n  isUnknown,\n  isScript,\n  isTransaction,\n  isGetTransaction,\n  isGetTransactionStatus,\n  isGetAccount,\n  isGetEvents,\n  isPing,\n  isGetBlock,\n  isGetBlockHeader,\n  isGetCollection,\n  isGetNetworkParameters,\n  isGetNodeVersionInfo,\n} from \"./interaction/interaction\"\nimport type {CadenceArgument} from \"./interaction/interaction\"\nexport {CadenceArgument} // Workaround for babel https://github.com/babel/babel/issues/8361\n\nexport {createSignableVoucher, voucherToTxId} from \"./resolve/voucher\"\nexport {encodeMessageFromSignable} from \"./wallet-utils/encode-signable.js\"\nexport {template as cadence} from \"@onflow/util-template\"\nexport {template as cdc} from \"@onflow/util-template\"\n\n// Helpers\nexport {account} from \"./account/account.js\"\nexport {block} from \"./block/block.js\"\nexport {nodeVersionInfo} from \"./node-version-info/node-version-info\"\n\n// Builders\nexport {authorizations, authorization} from \"./build/build-authorizations.js\"\nexport {atBlockHeight} from \"./build/build-at-block-height.js\"\nexport {atBlockId} from \"./build/build-at-block-id.js\"\nexport {getAccount} from \"./build/build-get-account.js\"\nexport {getEvents} from \"./build/build-get-events.js\"\nexport {getEventsAtBlockHeightRange} from \"./build/build-get-events-at-block-height-range.js\"\nexport {getEventsAtBlockIds} from \"./build/build-get-events-at-block-ids\"\nexport {getBlock} from \"./build/build-get-block.js\"\nexport {getBlockHeader} from \"./build/build-get-block-header.js\"\nexport {getCollection} from \"./build/build-get-collection\"\nexport {getTransactionStatus} from \"./build/build-get-transaction-status.js\"\nexport {getTransaction} from \"./build/build-get-transaction.js\"\nexport {getNetworkParameters} from \"./build/build-get-network-parameters.js\"\nexport {getNodeVersionInfo} from \"./build/build-get-node-version-info\"\nexport {limit} from \"./build/build-limit.js\"\nexport {args, arg} from \"./build/build-arguments\"\nexport {proposer} from \"./build/build-proposer.js\"\nexport {payer} from \"./build/build-payer.js\"\nexport {ping} from \"./build/build-ping.js\"\nexport {ref} from \"./build/build-ref.js\"\nexport {script} from \"./build/build-script.js\"\nexport {transaction} from \"./build/build-transaction.js\"\nexport {validator} from \"./build/build-validator.js\"\nexport {invariant} from \"./build/build-invariant.js\"\nexport {voucherIntercept} from \"./build/build-voucher-intercept.js\"\nexport {subscribeEvents} from \"./build/build-subscribe-events\"\n\n// Resolvers\nexport {resolveCadence} from \"./resolve/resolve-cadence.js\"\nexport {resolveFinalNormalization} from \"./resolve/resolve-final-normalization\"\nexport {resolveProposerSequenceNumber} from \"./resolve/resolve-proposer-sequence-number\"\nexport {resolveArguments} from \"./resolve/resolve-arguments.js\"\nexport {resolveAccounts} from \"./resolve/resolve-accounts\"\nexport {response} from \"./response/response\"\nexport {resolveSignatures} from \"./resolve/resolve-signatures\"\nexport {resolveValidators} from \"./resolve/resolve-validators.js\"\nexport {resolveRefBlockId} from \"./resolve/resolve-ref-block-id.js\"\nexport {resolveVoucherIntercept} from \"./resolve/resolve-voucher-intercept.js\"\n\nexport {config} from \"@onflow/config\"\n\n// Deprecated\nexport const params = (params: never) =>\n  logger.log.deprecate({\n    pkg: \"FCL/SDK\",\n    message: `The params builder has been removed from the Flow JS-SDK/FCL.`,\n    transition:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n    level: logger.LEVELS.error,\n  })\nexport const param = (params: never) =>\n  logger.log.deprecate({\n    pkg: \"FCL/SDK\",\n    message: `The param builder has been removed from the Flow JS-SDK/FCL.`,\n    transition:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n    level: logger.LEVELS.error,\n  })\n\nimport * as TestUtils from \"./test-utils\"\nexport {TestUtils}\n\nexport {VERSION} from \"./VERSION\"\n"],"names":["ACCT","InteractionResolverKind","ACCOUNT","ARG","ARGUMENT","IX","InteractionTag","UNKNOWN","InteractionStatus","OK","KEYS","Set","Object","keys","JSON","parse","initInteraction","interaction","log","deprecate","pkg","message","transition","level","LEVELS","warn","isNumber","d","isArray","Array","isObj","isNull","isFn","isInteraction","ix","key","hasOwnProperty","Ok","status","Bad","reason","BAD","makeIx","wat","tag","prepAccountKeyId","acct","keyId","invariant","isNaN","parseInt","toString","initAccount","prepAccount","opts","arguments","length","undefined","role","tempId","uuidv4","account","authorization","resolve","_len","rest","_key","reduce","fn","accounts","TransactionRole","AUTHORIZER","authorizations","push","PAYER","payer","makeArgument","arg","value","asArgument","xform","resolveArgument","bind","makeUnknown","makeScript","SCRIPT","makeTransaction","TRANSACTION","makeGetTransactionStatus","GET_TRANSACTION_STATUS","makeGetTransaction","GET_TRANSACTION","makeGetAccount","GET_ACCOUNT","makeGetEvents","GET_EVENTS","makePing","PING","makeGetBlock","GET_BLOCK","makeGetBlockHeader","GET_BLOCK_HEADER","makeGetCollection","GET_COLLECTION","makeGetNetworkParameters","GET_NETWORK_PARAMETERS","makeSubscribeEvents","SUBSCRIBE_EVENTS","makeGetNodeVerionInfo","GET_NODE_VERSION_INFO","is","isUnknown","isScript","isTransaction","isGetTransactionStatus","isGetTransaction","isGetAccount","isGetEvents","isPing","isGetBlock","isGetBlockHeader","isGetCollection","isGetNetworkParameters","isGetNodeVersionInfo","isSubscribeEvents","isOk","isBad","why","isAccount","kind","isArgument","argument","hardMode","has","Error","recPipe","fns","hd","cur","e","pipe","_len2","args","_key2","arg1","arg2","identity","v","get","fallback","assigns","put","update","destroy","build","DEFAULT_RESPONSE","response","getBlock","isSealed","block","getAccount","addr","sansPrefix","decodeStream","stream","decodeResponse","customDecoders","newStream","EventEmitter","queue","taskQueue","on","data","topics","filter","newDataPromise","Promise","all","map","channel","partialResponse","newData","forEach","_ref","emit","relayEvent","event","callback","off","close","running","run","task","shift","latestBlockDeprecationNotice","subject","decodeImplicit","i","decodeVoid","decodeType","type","staticType","decodePath","path","domain","identifier","decodeCapability","cap","address","borrowType","decodeOptional","optional","decoders","stack","recurseDecode","decodeReference","decodeArray","array","res","decodeDictionary","dictionary","acc","decodeComposite","composite","decoded","fields","name","decoder","id","decoderLookup","defaultDecoders","UInt","Int","UInt8","Int8","UInt16","Int16","UInt32","Int32","UInt64","Int64","UInt128","Int128","UInt256","Int256","Word8","Word16","Word32","Word64","UFix64","Fix64","String","Character","Bool","Address","Void","Optional","Reference","Dictionary","Event","Resource","Struct","Enum","Type","Path","Capability","lookup","found","find","test","reg","RegExp","substring","decodeInstructions","join","decode","filteredDecoders","customDecoder","decoderKey","encodedData","transactionStatus","events","decodeEvents","transactionId","transactionIndex","eventIndex","payload","transaction","blockId","blockHeight","blockTimestamp","blockHeader","latestBlock","collection","networkParameters","prefixRegex","rawChainId","chainId","formattedChainId","replace","streamConnection","heartbeat","nodeVersionInfo","isString","oldIdentifierPatternFn","isOldIdentifierSyntax","cadence","newIdentifierPatternFn","isNewIdentifierSyntax","getContractIdentifierSyntaxMatches","matchAll","resolveCadence","config","where","then","entries","regex","fullMatch","contractName","withPrefix","logger","title","cast","handleArgResolution","depth","resolvedArg","resolveArguments","encodeTransactionPayload","tx","prependTransactionDomainTag","rlpEncode","preparePayload","encodeTransactionEnvelope","prepareEnvelope","encodeTxIdFromVoucher","voucher","sha3_256","prepareVoucher","rightPaddedHexBuffer","pad","Buffer","from","padEnd","leftPaddedHexBuffer","padStart","TRANSACTION_DOMAIN_TAG","addressBuffer","blockBuffer","argumentToString","stringify","scriptBuffer","script","signatureBuffer","signature","encode","msg","sha","SHA3","digest","validatePayload","refBlock","computeLimit","proposalKey","sequenceNum","authorizers","authorizer","validateEnvelope","preparePayloadSignatures","signers","collectSigners","payloadSigs","sig","signerIndex","sort","a","b","Map","addSigner","set","validateVoucher","prepareSigs","sigs","envelopeSigs","payloadFields","field","checkField","proposalKeyFields","payloadSigsFields","index","payloadSigFields","envelopeSigsFields","envelopeSigFields","isObject","check","defaultVal","obj","base","missingFieldError","invalidFieldError","printFieldName","findInsideSigners","inside","proposer","add","p","delete","findOutsideSigners","outside","createSignableVoucher","buildAuthorizers","cid","prev","current","item","buildInsideSigners","buildOutsideSigners","voucherToTxId","MAX_DEPTH_LIMIT","idof","prototype","call","Function","genAccountId","ids","ROLES","debug","SPACE","SPACE_COUNT_PER_INDENT","DEBUG_MESSAGE","indent","fill","curr","recurseFlatMap","el","depthLimit","flatMap","buildPreSignable","f_type","f_vsn","roles","error","console","removeUnusedIxAccounts","payerTempIds","authorizersTempIds","proposerTempIds","ixAccountKeys","uniqueTempIds","concat","ixAccountKey","addAccountToIx","newAccount","existingAccount","uniqueAccountsFlatMap","flatMapped","seen","uniqueAccountsFlatMapped","accountId","param","recurseResolveAccount","currentAccountTempId","debugLogger","Math","max","accountWithoutResolve","resolvedAccounts","flatResolvedAccounts","flatResolvedAccount","recursedAccounts","resolvedAccount","getAccountTempIDs","rawTempIds","resolveAccountType","PROPOSER","AUTHORIZATIONS","accountTempIDs","allResolvedAccounts","Boolean","resolvedAccountTempIds","resolvedAccountTempId","payerTempID","pAcct","resolveAccounts","getDebugMessage","enableDebug","resolveSignatures","insideSigners","insidePayload","encodeInsideMessage","prepForEncoding","fetchSignature","outsideSigners","outsidePayload","encodeOutsideMessage","innerFetchSignature","signingFunction","buildSignable","payerAddress","resolveValidators","validators","cb","resolveFinalNormalization","resolveVoucherIntercept","DEFAULT_COMPUTE_LIMIT","resolveComputeLimit","noop","accts","execFetchRef","execFetchSequenceNumber","node","sendFn","first","defaultSend","ixModule","values","sequenceNumber","predicate","send","resolveFn","defaultResolve","decodersFromConfig","pattern","fromEntries","findPayloadSigners","findEnvelopeSigners","envelope","UnableToDetermineMessageEncodingTypeForSignerAddress","constructor","signerAddress","trim","encodeMessageFromSignable","signable","payloadSigners","envelopeSigners","isPayloadSigner","includes","isEnvelopeSigner","ps","validator","atBlockHeight","height","atBlockId","sealed","getNodeVersionInfo","ax","authz","getEvents","eventType","start","end","getEventsAtBlockHeightRange","eventName","fromBlockHeight","toBlockHeight","getEventsAtBlockIds","blockIds","getBlockHeader","getCollection","getTransactionStatus","getTransaction","getNetworkParameters","limit","ping","ref","template","DEFAULT_SCRIPT_ACCOUNTS","DEFUALT_REF","voucherIntercept","subscribeEvents","startBlockId","startHeight","eventTypes","addresses","contracts","heartbeatInterval","resolveProposerSequenceNumber","responseModule","getRefId","resolveRefBlockId","mockAccountResponse","numberOfKeys","_","mockGetBlockResponse","mockSend","execSend","authzFn","fallbackSigningFunction","_signable","authzResolve","ROLE","authzResolveMany","authzDeepResolveMany","VERSION","params"],"mappings":"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"}